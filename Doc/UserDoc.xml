<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE lingPaper PUBLIC "-//XMLmind//DTD XLingPap//EN"
"XLingPap.dtd">
<lingPaper
automaticallywrapinterlinears="yes"
version="2.20.0"
><frontMatter
><title
><object
type="tFlextrans"
></object
> User Documentation</title
><author
>Ronald M. Lockwood</author
><emailAddress
>flextrans.help@gmail.com</emailAddress
><date
>1 November 2016</date
><version
>1.3.7 (Sense Linker 2.1)</version
><contents
></contents
><abstract
><p
>This paper describes how to use the <object
type="tFlextrans"
></object
> machine translation system. It is a supplement to a master's thesis which goes into more detail on the background and documents a test case. Please see <link
href="https://digital.lib.washington.edu/researchworks/handle/1773/33999"
>A Linguist-Friendly Machine Translation System for Low-Resource Languages</link
>.<comment
></comment
></p
><p
><comment
>Ideas for content for this document</comment
></p
><p
><comment
>Sections to read in the thesis to get oriented. (temporary)</comment
></p
><p
><comment
>Installation</comment
></p
><p
><comment
>Sample projects, understanding, modifying.</comment
></p
><p
><comment
>How to ... FAQs</comment
></p
><p
><comment
>Things that were in the presentation to LSDev (variants [inflectional &amp; normal], </comment
></p
><p
><comment
>Rule examples</comment
></p
><p
><comment
>Overview with diagram</comment
></p
><p
><comment
>How to edit using XXE</comment
></p
><p
><comment
>Each module explained</comment
></p
><p
><comment
>Configuration file</comment
></p
><p
><comment
>Troubleshooting</comment
></p
></abstract
></frontMatter
><section1
id="sStarting"
><secTitle
>Getting Started</secTitle
><p
>The basic steps for machine translation with <object
type="tFlextrans"
></object
> are as follows:</p
><ol
><li
>Analyze the text you want to translate in the source <object
type="tFlexx"
></object
> project.</li
><li
>Link lexical senses that are in the source text to senses in the target FLEx project using the <object
type="tSenseLinker"
></object
></li
><li
>Write transfer rules that convert source words and phrases to target words and phrases.</li
><li
>Run the six <object
type="tFlextrans"
></object
> modules.</li
></ol
><p
>Let's look at each step in more detail.<comment
> For a more thorough treatment of each step see FLExTrans Steps in More Detail.</comment
></p
><section2
id="sAnalyze"
><secTitle
>Analyze the Source Text</secTitle
><ol
><li
>Create a new text in <object
type="tFlexx"
></object
>.</li
><li
>Paste in some text. (Start with a simple text; perhaps just one sentence.)</li
><li
>Analyze this text.<ol
><li
>Divide each word into its morphemes.</li
><li
>Accept the analysis of each word.</li
></ol
></li
></ol
><p
>Word glosses, word categories and free translations are not necessary. A fully analyzed text will look something like <exampleRef
letter="xAnalyzedText"
num="xAnalyzedText"
></exampleRef
> below.</p
><example
num="xAnalyzedText"
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial=" height:60%"
src="Images/AnalyzedText.PNG"
></img
></chart
></example
><p
>Note: Word gloss and category are hidden as well as free translation.</p
><p
><comment
>Advanced info. for the later section:</comment
></p
><p
><comment
>All affixes and clitics need to have unique glosses</comment
></p
><p
><comment
>Use the parser for faster analysis.</comment
></p
></section2
><section2
id="sLinkSenses"
><secTitle
>Link Senses</secTitle
><ol
><li
>Start <object
type="tFlexxTools"
></object
> in the installation folder. See <appendixRef
app="sStartFlextools"
></appendixRef
> for step-by-step instructions. It should look like <exampleRef
letter="xFirstStart"
num="xFirstStart"
></exampleRef
>.<example
num="xFirstStart"
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial=" height:60%"
src="Images/FLExTransModules.png"
></img
></chart
></example
></li
><li
>Click on the <img
cssSpecial="Width:5%"
src="Images/DatabaseBut.PNG"
></img
> button and choose your source database, i.e. <object
type="tFlexx"
></object
> project.</li
><li
>Edit the configuration file and change two values.<ol
><li
>Open <object
type="tTool"
>Notepad</object
></li
><li
>Select File &gt; Open from the menu.</li
><li
>Navigate to the install folder and into the <object
type="tBold"
>FlexTools</object
> folder.</li
><li
>Select <object
type="tBold"
>FlexTrans.config</object
></li
><li
>Change these two values:<table
border="1"
><tr
><th
>Value</th
><th
>Change to</th
></tr
><tr
><td
><object
type="tCourier"
>SourceTextName</object
></td
><td
><object
type="tItalic"
>The title of the text you want to translate in the source </object
><object
type="tFlexx"
></object
> <object
type="tItalic"
>project</object
></td
></tr
><tr
><td
><object
type="tCourier"
>TargetProject</object
></td
><td
><object
type="tItalic"
>The name of your target </object
><object
type="tFlexx"
></object
><object
type="tItalic"
> project</object
></td
></tr
></table
></li
></ol
></li
><li
>Click on the <img
cssSpecial="Width:5%"
src="Images/CollectionsBut.PNG"
></img
> button which will bring up a list of collections as shown in <exampleRef
letter="xLinkerInCollections"
num="xLinkerInCollections"
></exampleRef
>.<example
num="xLinkerInCollections"
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial="Height:60%"
src="Images/LinkerInCollections.png"
></img
></chart
></example
></li
><li
>Double-click on <object
type="tBold"
>FLExTrans Sense Linker</object
> in the list and you'll see this:<example
num="xLinkerModule"
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial="Height:60%"
src="Images/LinkerModule.png"
></img
></chart
></example
></li
><li
>Click on the <img
cssSpecial="Width:5%"
src="Images/RunModifyBut.PNG"
></img
> button to run the module. Click OK on the message box that comes up to confirm you want to change <object
type="tFlexx"
></object
> data. You'll now see the <object
type="tSenseLinker"
></object
> with no links yet established. The window will look something like this:<example
num="xLinkerNoLinks"
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial="Height:60%"
src="Images/SenseLinkerNoLinks.png"
></img
></chart
></example
></li
><li
>Link each sense. (cf. <sectionRef
sec="sLinker"
showTitle="numberOnly"
textBefore="singular"
></sectionRef
>)<ol
><li
>For blue rows that look good, simply check the check box in the <object
type="tBold"
>Link It</object
> column.</li
><li
>For red rows pick the appropriate target sense in the drop-down list, then double-click in the <object
type="tBold"
>Target Head Word</object
> column for that row.</li
></ol
></li
><li
>Click OK</li
></ol
><p
><comment
>Advanced info. for the later section:</comment
></p
><p
><comment
>Explain why senses are linked. Bilingual dictionary, etc.</comment
></p
></section2
><section2
id="sWriteRules"
><secTitle
>Write Transfer Rules</secTitle
><p
>If you have not yet installed <object
type="tXMLmindXMLEditor"
></object
>, follow the first two steps <link
href="https://github.com/rmlockwood/FLExTrans/wiki/Transfer-Rule-Editing-App"
>on this page</link
>.</p
><ol
><li
>Navigate to the <object
type="tBold"
>FlexTools\Output</object
> folder in your installation folder.</li
><li
>Double-click on the file <object
type="tBold"
>transfer_rules.t1x</object
> which will open the file in <object
type="tXMLmindXMLEditor"
></object
>. It should look something like <exampleRef
letter="xInitialSampleRules"
num="xInitialSampleRules"
></exampleRef
>. This is the transfer rules file that works with the sample projects.<example
num="xInitialSampleRules"
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial="Height:60%"
src="Images/RulesSampleInitial.PNG"
></img
></chart
></example
></li
><li
>Expand the <object
type="tRuleElemInXXE"
>rule </object
> element and also the <object
type="tRuleElemInXXE"
>action</object
> element so that it looks like <exampleRef
letter="xRulesSampleVerbRule"
num="xRulesSampleVerbRule"
></exampleRef
>.<example
num="xRulesSampleVerbRule"
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial="Height:60%"
src="Images/RulesSampleVerbRule.PNG"
></img
></chart
></example
></li
><li
>Pick a category that you are going to process. In this example let's use noun, abbreviated "n".</li
><li
>Change the <object
type="tRuleElemInXXE"
>rule</object
> comment shown in blue to "Nouns"</li
><li
>Change the <object
type="tRuleElemInXXE"
>item</object
> element to "c_n". This means category noun. This changes the pattern to match nouns. Nouns get defined below.</li
><li
>Remove the two <object
type="tRuleElemInXXE"
>literal tag</object
> elements by clicking on the word "literal" and pressing the delete key. The rule should now look like <exampleRef
letter="xRulesSampleNounRule"
num="xRulesSampleNounRule"
></exampleRef
>.<example
num="xRulesSampleNounRule"
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial="Height:60%"
src="Images/RulesSampleNounRule.PNG"
></img
></chart
></example
></li
><li
>Expand the <object
type="tRuleElemInXXE"
>Categories</object
> element and the second <object
type="tRuleElemInXXE"
>category</object
> element and it should look like <exampleRef
letter="xRulesSampleCatsBefore"
num="xRulesSampleCatsBefore"
></exampleRef
>.<example
num="xRulesSampleCatsBefore"
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial="Height:60%"
src="Images/RulesSampleCatsBefore.PNG"
></img
></chart
></example
></li
><li
>Change "c_v" to "c_n" in the <object
type="tRuleElemInXXE"
>category</object
> element and "v" to "n" in both <object
type="tRuleElemInXXE"
>tags</object
> elements. Now it should look something like <exampleRef
letter="xRulesSampleCatsAfter"
num="xRulesSampleCatsAfter"
></exampleRef
>. Category "c_n" is now defined as the single tag "n" or the tag "n" followed by any other tag, i.e. affixes and the like.<example
num="xRulesSampleCatsAfter"
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial="Height:60%"
src="Images/RulesSampleCatsAfter.PNG"
></img
></chart
></example
></li
><li
>Expand the <object
type="tRuleElemInXXE"
>Attributes</object
> element and the second <object
type="tRuleElemInXXE"
>attribute</object
> element and it should look like <exampleRef
letter="xRulesSampleAttribs"
num="xRulesSampleAttribs"
></exampleRef
>. Note that we already have a tag for a noun.<example
num="xRulesSampleAttribs"
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial="Height:60%"
src="Images/RulesSampleAttribs.PNG"
></img
></chart
></example
></li
><li
>We are done editing the rule. You can save the file.</li
></ol
><p
>In brief what this rule does is set up an action to take place when a word is processed by the <object
type="tTool"
>Apertium</object
> engine that has the "n" tag. (Every word coming from <object
type="tFlexx"
></object
> has the word's gammatical category in the form of a tag.)</p
><p
>The action that gets executed is to basically strip off any affixes from the word. This is accomplished by outputting the word itself -- the "lem" part and the grammatical category -- anything that matches a tag specified by in the "a_gram_cat" attribute. No affixes are explicitly outputted. The <object
type="tRuleElemInXXE"
>target lang.</object
> attribute of the <object
type="tRuleElemInXXE"
>clip</object
> elements in <exampleRef
letter="xRulesSampleNounRule"
num="xRulesSampleNounRule"
></exampleRef
> above is selected so the target word that corresponds to the input source word is outputted.</p
></section2
><section2
id="sRunModules"
><secTitle
>Run <object
type="tFlextrans"
></object
> Modules</secTitle
><ol
><li
>Make sure you start the <object
type="tTool"
>Apertium</object
> Virtual Machine. (See <link
href="https://github.com/rmlockwood/FLExTrans/wiki/Installation"
>this link</link
> for instructions on setting it up.) <ol
><li
>Start <object
type="tTool"
>Virtual Box</object
>.</li
><li
>Click on the <object
type="tFlextrans"
></object
> <object
type="tTool"
>Apertium</object
>.</li
><li
>Click on the Start button.</li
></ol
></li
><li
>In <object
type="tFlexxTools"
></object
>, click on the <img
cssSpecial="Width:5%"
src="Images/CollectionsBut.PNG"
></img
> button.  </li
><li
>Double-click on <object
type="tBold"
>FLExTrans All Steps</object
> in the list and you'll see <exampleRef
letter="xFirstStart"
num="xFirstStart"
></exampleRef
>.</li
><li
>Click on the <img
cssSpecial="Width:7%"
src="Images/RunAllModifyBut.PNG"
></img
> button to run all the modules. Click OK on the message box that comes up to confirm you want to change <object
type="tFlexx"
></object
> data. You'll see the modules run and see various bits of output. </li
></ol
><p
>You can see the results by opening the target <object
type="tFlexx"
></object
> project. (You may have to do a "refresh" to see the new text.)</p
><p
><comment
>Advanced info.: </comment
></p
><p
><comment
>Results can also be seen in the Output folder.</comment
></p
></section2
></section1
><section1
id="sLinker"
><secTitle
>The <object
type="tSenseLinker"
></object
></secTitle
><p
>The <object
type="tSenseLinker"
></object
> is a tool for linking source senses to target senses. The tool looks through the text specified in the configuration file and lists every sense that was analyzed in that text in order. Here's sample screen shot of the <object
type="tSenseLinker"
></object
>:</p
><example
num="xLinkerToolShot"
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial=" height:60%"
src="Images/SenseLinkerCapture.png"
></img
></chart
></example
><p
>Here's a key to the color coding:</p
><table
border="1"
><tr
><th
>Color</th
><th
></th
></tr
><tr
><td
>White</td
><td
>Source sense has been linked to a target sense.</td
></tr
><tr
><td
>Red</td
><td
>Source sense has not been linked to a target sense.</td
></tr
><tr
><td
>Light Blue</td
><td
>A target sense has been suggested for this source sense through a partial match of the glosses.</td
></tr
><tr
><td
>Blue</td
><td
>A target sense has been suggested for this source sense through an exact match of the glosses.</td
></tr
><tr
><td
>Green</td
><td
>The target sense has been set or changed for this source sense.</td
></tr
><tr
><td
>Red Text</td
><td
>There is a mismatch of grammatical category even though the glosses match.</td
></tr
></table
><p
>For suggested sense links (colored in blue), if you want to link them, simply check the check box in the Link It column. To link a source sense with a target sense where there is no suggestion or to change an existing link, you need to do two things. First, select the target sense that you want to link to in the drop down list of senses () then go to the Target Head Word column for the source sense in question and double-click there. The target sense information should appear with a green background color.</p
><p
>If you only want to see the senses that need to be linked, check the box that says Show Only Unlinked.</p
></section1
><section1
id="sRuleTester"
><secTitle
>The <object
type="tLiveRuleTester"
></object
></secTitle
><p
>The <object
type="tLiveRuleTester"
></object
> is a tool that allows you to test source words or sentences live against transfer rules. This tool is especially helpful for finding out why transfer rules are doing what you expect them to do. You can zero in on the problem by selecting just one source word and applying the pertinent transfer rule. In this way you don't have to run the whole system against the whole text file and all transfer rules. Here's sample screen shot of the <object
type="tLiveRuleTester"
></object
>:</p
><example
num="xTesterImage"
><chart
><img
XeLaTeXSpecial="scaled='400'"
cssSpecial=" height:40%"
src="Images/LiveRuleTester.png"
></img
></chart
></example
><section2
id="sTesterQuickGuide"
><secTitle
>Quick Guide</secTitle
><p
>Here's a quick guide on using the tool.</p
><ol
><li
>First you want to choose something from your source text that you want to test. When you first run the tool, the words of the first sentence are shown both in the drop down list at the top and in the peach colored area. You can check one or more words and when you do the <genericRef
gref="gDataStream"
>data stream format</genericRef
> of the words is shown in the blue colored area. You can quickly select a whole sentence, by clicking on the Select Sentences tab and clicking the check box for the sentence you want.</li
><li
>Next select which rule or rules you want to run against the words you selected. Check the check boxes in the purple area as appropriate. Check them all with the Select All button. Uncheck them all with the Refresh button. Move a rule up or down by clicking on it and clicking the up or down arrow buttons.</li
><li
>Now you are ready to test. Click the Test button and the selected works will get processed. The results will show in <genericRef
gref="gDataStream"
>data stream format</genericRef
> in the green colored area.</li
><li
>Check the yellow Information box. It will show which words were matched for the rules that were executed.</li
></ol
></section2
><section2
id="sTesterOther"
><secTitle
>Other Parts of the Tool</secTitle
><p
>By default the transfer rules file, the bilingual lexicon file and the source text are loaded according to the configuration file. The transfer fules file and the bilingual lexicon file can be changed if desired by clicking the corresponding Browse buttons.</p
><p
>In this version of the tool, you can't change the Source Text Name. You will have to edit the configuration file, change the SourceTextName value and re-run the tool.</p
><p
>You may have noticed that there is a Manual Entry tab for the source text words. You can enter words (technically senses) directly in <genericRef
gref="gDataStream"
>data stream format</genericRef
>. This might be useful if you want to test a sense that isn't in your text.</p
><p
>The Interchunk and Postchunk tabs for the rules list are not currently available in this version. They are for use in testing the rules that are used in the advanced <object
type="tTool"
>Apertium</object
> transfer engine.</p
><p
>You can't edit the transfer rules in the <object
type="tLiveRuleTester"
></object
> and even the change of the order of the rules in the tool does not get saved. Make your changes in a separate editor to reload the transfer rules after you have changed them, click on the Refresh button.</p
><p
>You need to have the <object
type="tTool"
>Apertium</object
> virtual machine running in order for the <object
type="tLiveRuleTester"
></object
> to work.</p
></section2
></section1
><backMatter
><appendix
id="a"
><secTitle
>Appendix</secTitle
><p
></p
><section1
id="sStartFlextools"
><secTitle
>Starting <object
type="tFlexxTools"
></object
></secTitle
><p
>Here are the steps:</p
><ol
><li
>Navigate to the folder where you unzipped the install files.</li
><li
>Double-click on the file <object
type="tBold"
>FlexTools.vbs</object
> (a Visual Basic script file)</li
><li
>The first time you run it, it may give you a message saying, "FLExTools has updated its configuration to match the new version of Fieldworks. Restarting."</li
><li
>The <object
type="tFlexxTools"
></object
> window should appear which will look something like <exampleRef
letter="xFirstStart"
num="xFirstStart"
></exampleRef
>.</li
></ol
></section1
><section1
id="sDataStreamFormat"
><secTitle
>Data Stream Format</secTitle
><p
>The <genericTarget
id="gDataStream"
></genericTarget
><object
type="tTool"
>Apertium</object
> data stream format consists of one or more lexical units. In <object
type="tFlextrans"
></object
>, a lexical unit looks something like this:</p
><chart
><img
XeLaTeXSpecial="scaled='600'"
cssSpecial="width:60%"
src="Images/LexicalUnit.PNG"
></img
></chart
></section1
></appendix
><endnotes
></endnotes
><references
></references
></backMatter
><languages
><language
id="lVernacular"
name="vernacular"
></language
><language
id="lGloss"
name="gloss"
></language
><language
id="en"
></language
></languages
><types
><comment
>The following types are provided as pre-set examples. You may well want to create your own types that refer to one or more of these. You do that by typing in the names of the types in the types attribute of your type.</comment
><type
font-weight="bold"
id="tBold"
></type
><type
font-style="italic"
font-weight="bold"
id="tBoldItalic"
></type
><type
font-weight="bold"
id="tEmphasis"
></type
><type
id="tGrammaticalGloss"
types="tSmallCaps"
></type
><type
font-style="italic"
id="tItalic"
></type
><type
cssSpecial="text-decoration:none"
id="tNoOverline"
xsl-foSpecial="text-decoration=&quot;no-overline&quot;"
></type
><type
font-variant="normal"
id="tNoSmallCaps"
></type
><type
cssSpecial="text-decoration:none"
id="tNoStrikethrough"
xsl-foSpecial="text-decoration=&quot;no-line-through&quot;"
></type
><type
cssSpecial="text-decoration:none"
id="tNoUnderline"
xsl-foSpecial="text-decoration=&quot;no-underline&quot;"
></type
><type
cssSpecial="text-decoration:overline"
id="tOverline"
xsl-foSpecial="text-decoration=&quot;overline&quot;"
></type
><type
font-style="normal"
font-variant="normal"
font-weight="normal"
id="tRegular"
></type
><type
font-family="Charis SIL Small Caps"
id="tSmallCaps"
></type
><type
XeLaTeXSpecial="line-through"
cssSpecial="text-decoration:line-through"
id="tStrikethrough"
xsl-foSpecial="text-decoration=&quot;line-through&quot;"
></type
><type
XeLaTeXSpecial="subscript"
cssSpecial="vertical-align:sub;"
font-size="65%"
id="tSubscript"
xsl-foSpecial="baseline-shift='sub'"
></type
><type
XeLaTeXSpecial="superscript"
cssSpecial="vertical-align:super;"
font-size="65%"
id="tSuperscript"
xsl-foSpecial="baseline-shift='super'"
></type
><type
XeLaTeXSpecial="underline"
cssSpecial="text-decoration:underline"
id="tUnderline"
xsl-foSpecial="text-decoration=&quot;underline&quot;"
></type
><comment
>Add your custom types here.</comment
><type
font-family="Courier New"
font-size="100%"
id="tCourier"
></type
><type
after="FLExTrans"
id="tFlextrans"
types="tTool"
></type
><type
after="FLExTools"
id="tFlexxTools"
types="tTool"
></type
><type
after="FLEx"
id="tFlexx"
types="tTool"
></type
><type
after="Live Rule Tester Tool"
id="tLiveRuleTester"
types="tTool"
></type
><type
id="tRuleElemInXXE"
types="tBold"
></type
><type
after="Sense Linker Tool"
id="tSenseLinker"
types="tTool"
></type
><type
color="navy"
font-family="Courier New"
font-weight="bold"
id="tTool"
></type
><type
after="XMLmind XML Editor"
id="tXMLmindXMLEditor"
types="tTool"
></type
></types
></lingPaper
>

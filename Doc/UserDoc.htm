<html xmlns:saxon="http://icl.com/saxon">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <!-- generated by XLingPap1.xsl Version 2.31.0-->
      <title>FLExTrans User Documentation</title><style type="text/css">.interblock { display: -moz-inline-box; display:inline-block; vertical-align: top; } </style><meta name="author" content="Ronald M. Lockwood">
      <meta name="title" content=" User Documentation">
      <meta name="generator" content="XLingPaper version 2.31.0 (www.xlingpaper.org)">
   </head>
   <body>
      <center><b><big><big><big><span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> User Documentation</big></big></big></b></center>
      <center><i>Ronald M. Lockwood</i></center>
      <center><i>flextrans.help@gmail.com</i></center><br><center><small>14 February 2018</small></center>
      <center><small>Version: 1.5 (Sense Linker 2.2, Live Rule Tester 2.2, Source/Target Viewer 1.0)</small></center>
      <hr>
      <div>
         <center><big><big><b>Contents</b></big></big></center>
         <ul>
            <li><a href="#rXLingPapAbstract0">Abstract</a></li>
            <li><a href="#sGettingStarted">1&nbsp;Getting Started</a></li>
            <ul>
               <li><a href="#sAnalyze">1.1&nbsp;Analyze the Source Text</a></li>
               <li><a href="#sPrepSteps">1.2&nbsp;Preparatory Steps</a></li>
               <li><a href="#sLinkSenses">1.3&nbsp;Link Senses</a></li>
               <li><a href="#sWriteRules">1.4&nbsp;Write Transfer Rules</a></li>
               <li><a href="#sRunModules">1.5&nbsp;Run <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> Modules</a></li>
            </ul>
            <li><a href="#sLinker">2&nbsp;The <span style="font-family:Courier New; font-weight:bold; color:navy; ">Sense Linker Tool</span></a></li>
            <li><a href="#sRuleTester">3&nbsp;The <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span></a></li>
            <ul>
               <li><a href="#sTesterQuickGuide">3.1&nbsp;Quick Guide</a></li>
               <li><a href="#sTesterOther">3.2&nbsp;Other Parts of the Tool</a></li>
            </ul>
            <li><a href="#sViewSrcTgt">4&nbsp;The <span style="font-family:Courier New; font-weight:bold; color:navy; ">Source/Target Viewer Tool</span></a></li>
            <li><a href="#sTransferTutorial">5&nbsp;A Tutorial on Writing Transfer Rules</a></li>
            <ul>
               <li><a href="#sOverview">5.1&nbsp;Overview</a></li>
               <ul>
                  <li><a href="#sFormalities">5.1.1&nbsp;Some Formalities</a></li>
                  <li><a href="#sApproach">5.1.2&nbsp;Approaching the Process of Writing Transfer Rules</a></li>
                  <li><a href="#sLexicalStruct">5.1.3&nbsp;Lexical Transfer and Structural Transfer</a></li>
                  <ul>
                     <li><a href="#sLexTransProc">5.1.3.1&nbsp;How Lexical Transfer is Processed</a></li>
                  </ul>
                  <li><a href="#sPrelim">5.1.4&nbsp;Some Preliminaries</a></li>
                  <li><a href="#sFileOverview">5.1.5&nbsp;Overview of a Transfer File</a></li>
                  <li><a href="#sRulesApplied">5.1.6&nbsp;How Rules are Applied</a></li>
               </ul>
               <li><a href="#sPracticalEx">5.2&nbsp;Practical Example</a></li>
               <ul>
                  <li><a href="#sTutSetup">5.2.1&nbsp;Getting Set Up</a></li>
                  <li><a href="#sLexicalTransfer">5.2.2&nbsp;Lexical Transfer</a></li>
                  <li><a href="#sThinking">5.2.3&nbsp;Thinking it Through</a></li>
                  <ul>
                     <li><a href="#sProc">5.2.3.1&nbsp;Procedures</a></li>
                     <li><a href="#sDecl">5.2.3.2&nbsp;Declarations</a></li>
                     <li><a href="#sWorkOrder">5.2.3.3&nbsp;Work Order</a></li>
                     <li><a href="#sCheatsheet">5.2.3.4&nbsp;Cheat Sheet</a></li>
                  </ul>
                  <li><a href="#sImplementation">5.2.4&nbsp;Implementation</a></li>
                  <ul>
                     <li><a href="#step1">5.2.4.1&nbsp;Step 1</a></li>
                     <li><a href="#step2">5.2.4.2&nbsp;Step 2</a></li>
                     <li><a href="#step3">5.2.4.3&nbsp;Step 3</a></li>
                     <li><a href="#step4">5.2.4.4&nbsp;Step 4</a></li>
                     <li><a href="#step5">5.2.4.5&nbsp;Step 5</a></li>
                     <li><a href="#step6">5.2.4.6&nbsp;Step 6</a></li>
                  </ul>
               </ul>
            </ul>
            <li><a href="#sHowTo">6&nbsp;FLExTrans How To&#8217;s</a></li>
            <ul>
               <li><a href="#sTransferRuleHowTos">6.1&nbsp;Transfer Rules</a></li>
               <ul>
                  <li><a href="#sDeleteWord">6.1.1&nbsp;How do I delete a word from the target output? (How do I prevent a source word from being transferred to the target text?)</a></li>
                  <li><a href="#sDeleteAffix">6.1.2&nbsp;How do I delete an affix?</a></li>
                  <li><a href="#sCondLogic">6.1.3&nbsp;Conditional Logic</a></li>
                  <li><a href="#sAgreement">6.1.4&nbsp;How do I handle noun agreement? (How do I get a target word or words to agree with a noun?)</a></li>
               </ul>
               <li><a href="#sOther">6.2&nbsp;Other</a></li>
               <ul>
                  <li><a href="#sRepl">6.2.1&nbsp;I have a source word that maps to two different target words depending on the inflection of the source word. How do I handle
                        that?</a></li>
                  <li><a href="#sInflVariantTgt">6.2.2&nbsp;How do I handle irregularly inflected variants in the target language?</a></li>
                  <li><a href="#sInflVariantSrc">6.2.3&nbsp;How do I handle inflectional variants in the source language?</a></li>
               </ul>
            </ul>
            <li><a href="#aAppend">A&nbsp;Appendix</a><ul>
                  <li><a href="#sStartFlextools">A.1&nbsp;Starting <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTools</span></a></li>
                  <li><a href="#sDataStreamFormat">A.2&nbsp;Data Stream Format</a></li>
               </ul>
            </li>
            <li><a href="#rXLingPapEndnotes">Endnotes</a></li>
            <li><a href="#rXLingPapReferences">References</a></li>
         </ul>
      </div><br><hr>
      <center><b><big><big><a name="rXLingPapAbstract0">Abstract</a></big></big></b></center>
      <div style="margin-left: 0.5in; margin-right: 0.5in">
         <p>This paper describes how to use the <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> machine translation system. It is a supplement to a master&#8217;s thesis which goes into more detail on the background and documents
            a test case. Please see <a href="https://digital.lib.washington.edu/researchworks/handle/1773/33999">A Linguist-Friendly Machine Translation System for Low-Resource Languages</a>.
         </p>
         <p></p>
         <p></p>
         <p></p>
         <p></p>
         <p></p>
         <p></p>
         <p></p>
         <p></p>
         <p></p>
         <p></p>
         <p></p>
         <p></p>
      </div>
      <hr>
      <h1 style=""><a name="sGettingStarted"></a>1&nbsp;Getting Started
      </h1>
      <p>The basic steps for machine translation with <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> are as follows:
      </p>
      <ol style="list-style-type:decimal; ">
         <li>Analyze the text you want to translate in the source <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project.
         </li>
         <li>Link lexical senses that are in the source text to senses in the target <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project using the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Sense Linker Tool</span></li>
         <li>Write transfer rules that convert source words and phrases to target words and phrases.</li>
         <li>Run the six <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> modules.
         </li>
      </ol>
      <p>Let&#8217;s look at each step in more detail.</p>
      <p>(It is assumed that you have gone through the <a href="https://github.com/rmlockwood/FLExTrans/wiki/Download">download</a> and <a href="https://github.com/rmlockwood/FLExTrans/wiki/Installation">installation</a> steps as given on the <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> Wiki and that you have <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> working for the sample projects. It is also assumed that you have two <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> projects to use as source and target projects for the following steps.)
      </p>
      <h2 style=""><a name="sAnalyze"></a>1.1&nbsp;Analyze the Source Text
      </h2>
      <ol style="list-style-type:decimal; ">
         <li>Create a new text in <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span>.
         </li>
         <li>Paste in some text. (Start with a simple text; perhaps just one sentence.)</li>
         <li>Analyze this text.
            <ol style="list-style-type:lower-alpha; ">
               <li>Divide each word into its morphemes.</li>
               <li>Accept the analysis of each word.</li>
            </ol>
         </li>
      </ol>
      <p>Word glosses, word categories and free translations are not necessary. A fully analyzed text will look something like <a href="#xAnalyzedText">(1)</a> below.
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xAnalyzedText">(1)</a></td>
               <td>
                  <table>
                     <tr>
                        <td><img style=" height:60%" src="Images/AnalyzedText.PNG"></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Note: Word gloss and category are hidden as well as free translation.</p>
      <p></p>
      <p></p>
      <p></p>
      <h2 style=""><a name="sPrepSteps"></a>1.2&nbsp;Preparatory Steps
      </h2>
      <ol style="list-style-type:decimal; ">
         <li>Edit the configuration file and change two values.
            <ol style="list-style-type:lower-alpha; ">
               <li>Open <span style="font-family:Courier New; font-weight:bold; color:navy; ">Notepad</span></li>
               <li>Select File &gt; Open from the menu.</li>
               <li>Navigate to the install folder and into the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">FlexTools</span> folder.
               </li>
               <li>Select the <span style="font-style:italic; ">FlexTrans.config</span> file.
               </li>
               <li>Change these two values:
                  <div align="left">
                     <table style="" border="1">
                        <tr style="">
                           <th align="left" valign="top" style="padding-left:.2em; ">Value</th>
                           <th align="left" valign="top" style="padding-left:.2em; ">Change to</th>
                        </tr>
                        <tr style="">
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:100%; ">SourceTextName</span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-style:italic; ">The title of the text you want to translate (from the source </span><span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> <span style="font-style:italic; ">project)</span></td>
                        </tr>
                        <tr style="">
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:100%; ">TargetProject</span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-style:italic; ">The name of your target </span><span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span><span style="font-style:italic; "> project</span></td>
                        </tr>
                     </table>
                  </div>
               </li>
            </ol>
         </li>
         <li>Add two custom fields to your source <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project. This is where link information to the target senses is kept.
            <ol style="list-style-type:lower-alpha; ">
               <li>In your source <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project, go to the Lexicon area
               </li>
               <li>From the menu select Tools &gt; Configure &gt; Custom Fields</li>
               <li>Click Add and use the following settings:
                  <ol style="list-style-type:lower-roman; ">
                     <li>Custom Field Name: Target Equivalent<span style="font-size:65%; vertical-align:super">[<a href="#nCustomFieldNames">1</a>]</span></li>
                     <li>Location: <span style="text-decoration:underline; ">Sense</span></li>
                     <li>Type: Single-line Text</li>
                     <li>Writing Systems(s): First Analysis Writing System</li>
                  </ol>
               </li>
               <li>Click Add again and use the following settings for a second custom field:
                  <ol style="list-style-type:lower-roman; ">
                     <li>Custom Field Name: Target Sense Number<span style="font-size:65%; vertical-align:super">[<a href="#nCustomFieldNames">1</a>]</span></li>
                     <li>Location: <span style="text-decoration:underline; ">Sense</span></li>
                     <li>Type: Single-line Text</li>
                     <li>Writing Systems(s): First Analysis Writing System</li>
                  </ol>
               </li>
               <li>Click OK</li>
            </ol>
         </li>
         <li>Close the <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> source and target projects.
         </li>
         <li>Start <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTools</span>. See <a href="#sStartFlextools">A.1</a> for step-by-step instructions. It should look like <a href="#xFirstStart">(2)</a>.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xFirstStart">(2)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style=" height:60%" src="Images/FLExTransModules.png"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Click on the <img style="Width:5%" src="Images/DatabaseBut.PNG"> button and choose your source database, i.e. <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project.
         </li>
      </ol>
      <h2 style=""><a name="sLinkSenses"></a>1.3&nbsp;Link Senses
      </h2>
      <ol style="list-style-type:decimal; ">
         <li>Click on the <img style="Width:5%" src="Images/CollectionsBut.PNG"> button which will bring up a list of collections as shown in <a href="#xLinkerInCollections">(3)</a>.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xLinkerInCollections">(3)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/LinkerInCollections.png"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Double-click on <span style="font-family:Arial; font-size:80%; font-style:normal; font-weight:bold; color:#660066; ">FLExTrans Sense Linker</span> in the list and you&#8217;ll see this:
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xLinkerModule">(4)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/LinkerModule.png"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Click on the <img style="Width:5%" src="Images/RunModifyBut.PNG"> button to run the module. Click OK on the message box that comes up to confirm you want to change <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> data. You&#8217;ll now see the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Sense Linker Tool</span> with no links yet established. The window will look something like this:
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xLinkerNoLinks">(5)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/SenseLinkerNoLinks.png"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Link each sense. (cf. section&nbsp;<a href="#sLinker">2</a>)
            <ol style="list-style-type:lower-alpha; ">
               <li>For blue rows that look good, simply check the check box in the <span style="font-weight:bold; ">Link It</span> column.
               </li>
               <li>For red rows pick the appropriate target sense in the drop-down list, then double-click in the <span style="font-weight:bold; ">Target Head Word</span> column for that row.
               </li>
            </ol>
         </li>
         <li>Click OK</li>
      </ol>
      <p>Now you have senses linked from source project to the target. You haven&#8217;t created anything in the target project yet, but
         you have done the preparatory work.
      </p>
      <p></p>
      <p></p>
      <h2 style=""><a name="sWriteRules"></a>1.4&nbsp;Write Transfer Rules
      </h2>
      <p>If you have not yet installed <span style="font-family:Courier New; font-weight:bold; color:navy; ">XMLmind XML Editor</span> and the <span style="text-decoration:underline; ">needed files</span> for editing transfer rules within it, follow the first two steps <a href="https://github.com/rmlockwood/FLExTrans/wiki/Transfer-Rule-Editing-App">on this page</a>. Even if you already have <span style="font-family:Courier New; font-weight:bold; color:navy; ">XMLmind XML Editor</span> installed you still need the addon files. See the previous link.
      </p>
      <p>In this section, as an exercise, we are going to write a simple rule that removes affixes from words of a certain category.
         We&#8217;ll modify an existing rule to do this.
      </p>
      <ol style="list-style-type:decimal; ">
         <li>Navigate to the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">'lFlexTools\Output</span> folder in your installation folder.
         </li>
         <li>Open the file <span style="font-style:italic; ">transfer_rules.t1x</span> in <span style="font-family:Courier New; font-weight:bold; color:navy; ">XMLmind XML Editor</span>. It should look something like <a href="#xInitialSampleRules">(6)</a>. This is the transfer rules file that works with the sample projects.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xInitialSampleRules">(6)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesSampleInitial.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Expand the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">rule </span> element and also the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">output</span> element so that it looks like <a href="#xRulesSampleVerbRule">(7)</a>.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xRulesSampleVerbRule">(7)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesSampleVerbRule.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Pick a category that you are going to process. In this example let&#8217;s use noun, abbreviated &#8220;n&#8221;.</li>
         <li>Change the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">rule</span> comment shown in blue to &#8220;Nouns&#8221;
         </li>
         <li>Change the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">item</span> element to &#8220;c_n&#8221;. This means category noun. This changes the pattern to match nouns. Nouns get defined below.
         </li>
         <li>Remove the two <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">literal tag</span> elements by clicking on the word &#8220;literal&#8221; and pressing the delete key. The rule should now look like <a href="#xRulesSampleNounRule">(8)</a>.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xRulesSampleNounRule">(8)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesSampleNounRule.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Expand the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Categories</span> element and the second <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">category</span> element and it should look like <a href="#xRulesSampleCatsBefore">(9)</a>.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xRulesSampleCatsBefore">(9)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesSampleCatsBefore.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Change &#8220;c_v&#8221; to &#8220;c_n&#8221; in the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">category</span> element and &#8220;v&#8221; to &#8220;n&#8221; in both <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">tags</span> elements. Now it should look something like <a href="#xRulesSampleCatsAfter">(10)</a>. Category &#8220;c_n&#8221; is now defined as the single tag &#8220;n&#8221; or the tag &#8220;n&#8221; followed by any other tag, i.e. affixes and the like.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xRulesSampleCatsAfter">(10)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesSampleCatsAfter.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Expand the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Attributes</span> element and the second <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">attribute</span> element and it should look like <a href="#xRulesSampleAttribs">(11)</a>. Note that we already have a tag for a noun.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xRulesSampleAttribs">(11)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesSampleAttribs.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>We are done editing the rule. You can save the file.</li>
      </ol>
      <p>In brief what this rule does is set up an action to take place when a word is processed by the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Apertium</span> engine that has the &#8220;n&#8221; tag. (Every word coming from <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> has the word&#8217;s grammatical category in the form of a tag.)
      </p>
      <p>The action that gets executed is to basically strip off any affixes from the word. This is accomplished by outputting the
         word itself -- the &#8220;lem&#8221; part and the grammatical category -- anything that matches a tag specified by in the &#8220;a_gram_cat&#8221;
         attribute. No affixes are explicitly outputted. The <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">target lang.</span> attribute of the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">clip</span> elements in <a href="#xRulesSampleNounRule">(8)</a> above is selected so the target word that corresponds to the input source word is outputted.
      </p>
      <p>The authoritative reference document for transfer rules is found in section 3.5 and appendix 3 of <a href="#rApertium">Forcada et al. (2010)</a>. 
      </p>
      <p></p>
      <h2 style=""><a name="sRunModules"></a>1.5&nbsp;Run <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> Modules
      </h2>
      <ol style="list-style-type:decimal; ">
         <li>In <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTools</span>, click on the <img style="Width:5%" src="Images/CollectionsBut.PNG"> button.
         </li>
         <li>Double-click on <span style="font-family:Arial; font-size:80%; font-style:normal; font-weight:bold; color:#660066; ">FLExTrans All Steps</span> in the list and you&#8217;ll see <a href="#xFirstStart">(2)</a>.
         </li>
         <li>Click on the <img style="Width:7%" src="Images/RunAllModifyBut.PNG"> button to run all the modules. Click OK on the message box that comes up to confirm you want to change <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> data. You&#8217;ll see the modules run and see various bits of output.
         </li>
      </ol>
      <p>You can see the results by opening the target <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project. (You may have to do a &#8220;refresh&#8221; to see the new text.)
      </p>
      <p></p>
      <p></p>
      <h1 style=""><a name="sLinker"></a>2&nbsp;The <span style="font-family:Courier New; font-weight:bold; color:navy; ">Sense Linker Tool</span></h1>
      <p>The <span style="font-family:Courier New; font-weight:bold; color:navy; ">Sense Linker Tool</span> is a tool for linking source senses to target senses. The tool looks through the text specified in the configuration file
         and lists every sense that was analyzed in that text in order. Here&#8217;s sample screen shot of the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Sense Linker Tool</span>:
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xLinkerToolShot">(12)</a></td>
               <td>
                  <table>
                     <tr>
                        <td><img style=" height:60%" src="Images/SenseLinkerCapture.png"></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Here&#8217;s a key to the color coding:</p>
      <div align="left">
         <table style="" border="1">
            <tr style="">
               <th align="left" valign="top" style="padding-left:.2em; ">Color</th>
               <th align="left" valign="top" style="padding-left:.2em; "></th>
            </tr>
            <tr style="">
               <td align="left" valign="top" style="padding-left:.2em">White</td>
               <td align="left" valign="top" style="padding-left:.2em">Source sense has been linked to a target sense.</td>
            </tr>
            <tr style="">
               <td align="left" valign="top" style="padding-left:.2em">Red</td>
               <td align="left" valign="top" style="padding-left:.2em">Source sense has not been linked to a target sense.</td>
            </tr>
            <tr style="">
               <td align="left" valign="top" style="padding-left:.2em">Light Blue</td>
               <td align="left" valign="top" style="padding-left:.2em">A target sense has been suggested for this source sense through a partial match of the glosses.</td>
            </tr>
            <tr style="">
               <td align="left" valign="top" style="padding-left:.2em">Blue</td>
               <td align="left" valign="top" style="padding-left:.2em">A target sense has been suggested for this source sense through an exact match of the glosses.</td>
            </tr>
            <tr style="">
               <td align="left" valign="top" style="padding-left:.2em">Green</td>
               <td align="left" valign="top" style="padding-left:.2em">The target sense has been set or changed for this source sense.</td>
            </tr>
            <tr style="">
               <td align="left" valign="top" style="padding-left:.2em">Red Text</td>
               <td align="left" valign="top" style="padding-left:.2em">There is a mismatch of grammatical category even though the glosses match.</td>
            </tr>
         </table>
      </div>
      <p>For suggested sense links (colored in blue), if you want to link them, simply check the check box in the Link It column. To
         link a source sense with a target sense where there is no suggestion or to change an existing link, you need to do two things.
         First, select the target sense that you want to link to in the drop down list of senses () then go to the Target Head Word
         column for the source sense in question and double-click there. The target sense information should appear with a green background
         color.
      </p>
      <p>If you only want to see the senses that need to be linked, check the box that says Show Only Unlinked.</p>
      <h1 style=""><a name="sRuleTester"></a>3&nbsp;The <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span></h1>
      <p>The <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span> is a tool that allows you to test source words or sentences live against transfer rules. This tool is especially helpful
         for finding out why transfer rules are doing what you expect them to do. You can zero in on the problem by selecting just
         one source word and applying the pertinent transfer rule. In this way you don&#8217;t have to run the whole system against the whole
         text file and all transfer rules. Here&#8217;s sample screen shot of the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span>:
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xTesterImage">(13)</a></td>
               <td>
                  <table>
                     <tr>
                        <td><img style=" height:40%" src="Images/LiveRuleTester.png"></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <h2 style=""><a name="sTesterQuickGuide"></a>3.1&nbsp;Quick Guide
      </h2>
      <p>Here&#8217;s a quick guide on using the tool.</p>
      <ol style="list-style-type:decimal; ">
         <li>First you want to choose something from your source text that you want to test. When you first run the tool, the words of
            the first sentence are shown both in the drop down list at the top and in the peach colored area. You can check one or more
            words and when you do the <a href="#gDataStream">data stream format</a> of the words is shown in the blue colored area. You can quickly select a whole sentence, by clicking on the Select Sentences
            tab and clicking the check box for the sentence you want.
         </li>
         <li>Next select which rule or rules you want to run against the words you selected. Check the check boxes in the purple area as
            appropriate. Check them all with the <span style="font-style:normal; font-weight:bold; ">Select All</span> button. Uncheck them all with the <span style="font-style:normal; font-weight:bold; ">Refresh</span> button. Move a rule up or down by clicking on it and clicking the up or down arrow buttons.
         </li>
         <li>Now you are ready to test. Click the <span style="font-style:normal; font-weight:bold; ">Test</span> button and the selected works will get processed. The results will show in <a href="#gDataStream">data stream format</a> in the green colored area.
         </li>
         <li>Check the yellow Information box. It will show which words were matched for the rules that were executed.</li>
      </ol>
      <h2 style=""><a name="sTesterOther"></a>3.2&nbsp;Other Parts of the Tool
      </h2>
      <p>By default the transfer rules file, the bilingual lexicon file and the source text are loaded according to the configuration
         file. The transfer rules file and the bilingual lexicon file can be changed if desired by clicking the corresponding <span style="font-style:normal; font-weight:bold; ">Browse</span> buttons.
      </p>
      <p>In this version of the tool, you can&#8217;t change the Source Text Name. You will have to edit the configuration file, change the
         SourceTextName value and re-run the tool.
      </p>
      <p>You may have noticed that there is a Manual Entry tab for the source text words. You can enter words (technically senses)
         directly in <a href="#gDataStream">data stream format</a>. This might be useful if you want to test a sense that isn&#8217;t in your text.
      </p>
      <p>The Interchunk and Postchunk tabs for the rules list are not currently available in this version. They are for use in testing
         the rules that are used in the advanced <span style="font-family:Courier New; font-weight:bold; color:navy; ">Apertium</span> transfer engine.
      </p>
      <p>You can&#8217;t edit the transfer rules in the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span> and even the change of the order of the rules in the tool does not get saved. Make your changes in a separate editor to reload
         the transfer rules after you have changed them, click on the <span style="font-style:normal; font-weight:bold; ">Refresh</span> button.
      </p>
      <h1 style=""><a name="sViewSrcTgt"></a>4&nbsp;The <span style="font-family:Courier New; font-weight:bold; color:navy; ">Source/Target Viewer Tool</span></h1>
      <p>The <span style="font-family:Courier New; font-weight:bold; color:navy; ">Source/Target Viewer Tool</span> is a tool that allows you to view the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Apertium</span> source or target files in an easy-to-read manner. You may not need to examine the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Apertium</span> files <span style="font-style:italic; ">source_text.aper</span> or <span style="font-style:italic; ">target_text.aper</span> very often, but sometimes you may find it useful to see what got extracted from the source <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project into <span style="font-style:italic; ">source_text.aper</span> or to see what the transfer rules produced after running the <span style="font-family:Courier New; font-weight:bold; color:navy; ">RunApertium</span> module in the form of <span style="font-style:italic; ">target_text.aper</span>. Run this tool to see the contents of these files. <a href="#xViewSrcTgt">(14)</a> shows what the tool looks like. The actual file contents look like <a href="#xDataStream">(15)</a>.
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xViewSrcTgt">(14)</a></td>
               <td>
                  <table>
                     <tr>
                        <td><img style=" height:60%" src="Images/SourceTargetViewer.png"></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <div style="margin-left: 0.25in; margin-right: 0.25in; margin-top:.2in">
         <table>
            <tr>
               <td valign="top"><a name="xDataStream">(15)</a></td>
               <td>
                  <table>
                     <tr>
                        <td><img src="Images/DataStreamFormat.PNG"></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>You have the options of changing the font, increasing the zoom level, displaying the text right-to-left or opening a similar
         view in the default web browser. If you click on the <span style="font-weight:bold; ">Target</span> button, you will see the contents of <span style="font-style:italic; ">target_text.aper</span>.
      </p>
      <h1 style=""><a name="sTransferTutorial"></a>5&nbsp;A Tutorial on Writing Transfer Rules<span style="font-size:65%; vertical-align:super">[<a href="#nReproducing">2</a>]</span></h1>
      <p>Writing transfer rules is not as tricky as it might seem. People generally understand the basic concepts, but they sometimes
         struggle with the formalism. Maybe one of the reasons people struggle is that the formalism mixes declarative and procedural
         statements. This tutorial should help you get used to writing transfer rules.
      </p>
      <h2 style=""><a name="sOverview"></a>5.1&nbsp;Overview
      </h2>
      <p>Here&#8217;s a brief overview:</p>
      <h3 style=""><a name="sFormalities"></a>5.1.1&nbsp;Some Formalities
      </h3>
      <p>Before starting, it is important to get an idea of what we can&#8217;t do, before explaining what we can.</p>
      <ul>
         <li>There are no recursive rules. Rules match fixed-length patterns. There is no optionality at the level of words. There is no
            way of saying one or more, it&#8217;s just one.
         </li>
         <li>Rules contain both declarative parts and procedural parts. You can&#8217;t just expect to say what you want or how you want to do
            it. You need to do both -- but in different places (but it&#8217;s quite intuitive).
         </li>
         <li>Patterns match only on the source side, not on the target side.</li>
         <li>The transfer process has no access to the information in the target language dictionary. This means that if the transfer needs
            some information about the available forms of a particular word, e.g. if it is only singular, or only plural, then this information
            needs to go in the bilingual dictionary.
         </li>
      </ul>
      <h3 style=""><a name="sApproach"></a>5.1.2&nbsp;Approaching the Process of Writing Transfer Rules
      </h3>
      <p>Think bottom up, not top down. Start with a question like &#8220;What is the simplest and best equivalent for dative in a language
         which does not have dative?&#8221; not &#8220;How can I change SOV order to SVO order?&#8221;
      </p>
      <h3 style=""><a name="sLexicalStruct"></a>5.1.3&nbsp;Lexical Transfer and Structural Transfer
      </h3>
      <p>We don't want to confuse the roles of lexical transfer and structural transfer. There is a grey area between the two, but
         there are also big parts that don&#8217;t overlap.
      </p>
      <ul>
         <li><span style="font-weight:bold; ">Lexical transfer</span> (the <span style="font-style:italic; ">bilingual.dix</span> file -- produced by the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Sense Linker Tool</span> and the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Extract Bilingual Lexicon</span> module)
            <ul>
               <li>Nearly always gives translations between words, not tags.</li>
               <li>Can add or change tags, on a per-sense basis.</li>
               <li>Doesn&#8217;t do reordering.</li>
               <li>Can be used to give a head&#8217;s up to the structural transfer to draw attention to missing features, or features that cannot
                  be decided on a no-context basis.
               </li>
            </ul>
         </li>
         <li><span style="font-weight:bold; ">Structural transfer</span> (the <span style="font-style:italic; ">transfer_rules.t1x</span> file -- edited with <span style="font-family:Courier New; font-weight:bold; color:navy; ">XMLmind XML Editor</span>)
            <ul>
               <li>Rarely gives translations between single words.</li>
               <li>Often adds or changes tags on a per-category (groups of words) basis.</li>
               <li>Can change the order of words.</li>
            </ul>
         </li>
      </ul>
      <p>A rule-of-thumb is, if the rule applies to all words in a category, it probably wants to be treated in the structural transfer;
         if it applies to just part of those words, then maybe it needs to be dealt with in the lexical transfer.
      </p>
      <p>Lexical transfer looks like <a href="#xLexXfer">(16)</a>. In other words, the bilingual dictionary maps a source word to target word. In <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> we don&#8217;t see the source and target lexical units together like this, but under the hood this is what it is.
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xLexXfer">(16)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">slword<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">somecat</span> -&gt; tlword<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">somecat</span> <br>slword1<span style="font-size:65%; vertical-align:sub;">2.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">somecat</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">blah</span> -&gt; tlword3<span style="font-size:65%; vertical-align:sub;">1.2</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">somecat</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">foo</span><br>slword3<span style="font-size:65%; vertical-align:sub;">3.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">somecat</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">blah</span> -&gt; tlword2<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">somecat</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">GD</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>The output of the structural transfer would look like <a href="#xStrXfer">(17)</a>.
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xStrXfer">(17)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">tlword<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">somecat</span> tlword3<span style="font-size:65%; vertical-align:sub;">1.2</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">somecat</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">foo</span> tlword2<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">somecat</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">GD</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>When you are in the structural transfer stage, you have access to both the source and target sides of the translation.</p>
      <h4 style=""><a name="sLexTransProc"></a>5.1.3.1&nbsp;How Lexical Transfer is Processed
      </h4>
      <p>This isn&#8217;t critical information that you have to know, but gives insight into what&#8217;s going on. Feel free to skip this section.</p>
      <p>Given an input lexical unit shown in <a href="#xInputLexUnit">(18)</a>:
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xInputLexUnit">(18)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">slword<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cat1</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">aff2</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">aff3</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>If we have the following in the bilingual dictionary:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xBiLingEntry">(19)</a></td>
               <td>
                  <table>
                     <tr>
                        <td><img style="Height:75%" src="Images/RulesTutSampBilEntry.PNG"></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Which gives the following mapping in terms of lexical units:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xMappingSample">(20)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">slword<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cat1</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">aff2</span> -&gt; tlword<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cat1</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>We will get this target-language output from the lexical-transfer module:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xLexXferResult">(21)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">tlword<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cat1</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">aff3</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Note that the target-language lexical form, as defined in the bilingual dictionary entry in <a href="#xBiLingEntry">(19)</a>, is produced by replacing two tags on the source side (i.e. <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">cat1 aff2</span>) with one tag on the target side (i.e. <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">cat1</span>).
      </p>
      <p>Important: any source language tags not matched in the bilingual dictionary entry are copied into the output on the target
         language side. In our example, <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">aff3</span></span> in <a href="#xInputLexUnit">(18)</a> gets copied to the final output in <a href="#xLexXferResult">(21)</a>.
      </p>
      <h3 style=""><a name="sPrelim"></a>5.1.4&nbsp;Some Preliminaries
      </h3>
      <p>The transfer rule file is written in an XML format and in <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> it is named <span style="font-style:italic; ">transfer_rules.t1x</span><span style="font-size:65%; vertical-align:super">[<a href="#nT1X">3</a>]</span>. We could do all the editing of the transfer rules in a text editor, but by using the structured editor <span style="font-family:Courier New; font-weight:bold; color:navy; ">XMLmind XML Editor</span> we not only get a graphical user interface, but also verification that the rule file we are writing is valid. In fact the
         <span style="font-family:Courier New; font-weight:bold; color:navy; ">XMLmind XML Editor</span> and the add-ons for <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> make it hard to write an invalid rule file.
      </p>
      <h3 style=""><a name="sFileOverview"></a>5.1.5&nbsp;Overview of a Transfer File
      </h3>
      <p>It&#8217;s hard to give a step-by-step overview of what a transfer file looks like because there is quite a lot of obligatory parts
         that need to go into even the most basic file. But, it&#8217;s important to get a general view before we go into the details. Here
         is an example in which I&#8217;m deliberately not going to use linguistic names for the different parts to try and avoid assumptions.
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xOverviewRuleFile">(22)</a></td>
               <td>
                  <table>
                     <tr>
                        <td><img style="Height:60%" src="Images/RulesTutOverview.PNG"></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>You should see this same thing when you open the file <span style="font-style:italic; ">transfer_rules.t1x</span> (<span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">FLExTrans Documentation\Transfer Rules Tutorial</span> folder) in the <span style="font-family:Courier New; font-weight:bold; color:navy; ">XMLmind XML Editor</span>. (Expand all the elements.)
      </p>
      <p>The transfer file is divided into two main parts: a declaration section and a rules section. The rules section uses information
         from the declaration section. In fact, every kind of reference you make in the rules section, you have to declare in the declaration
         section. The rules section is clearly denoted by the element <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Rules</span>. All of the elements above <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Rules</span> are part of the declaration section. In <a href="#xOverviewRuleFile">(22)</a> a minimal amount of declarations are shown, namely the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Categories</span>, <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Attributes</span>, and <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Variables</span> elements. (The elements <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Lists</span> and <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Macros</span> are not shown.)
      </p>
      <p>Rules have two main parts: the pattern definition and the actions to be carried out.</p>
      <p>The <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">pattern</span> element is what determines if <span style="font-family:Courier New; font-weight:bold; color:navy; ">Apertium</span> runs the rule or not. If the input word or words match the pattern, <span style="font-family:Courier New; font-weight:bold; color:navy; ">Apertium</span> will run the rule. The thing that goes in the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">item</span> sub-element of the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">pattern</span> element is a list of one or more categories (from the declaration section) you want to match.
      </p>
      <p>The <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">action</span> element contains the steps you want to perform in the rule, generally ending with an <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">output</span> element where you output lexical units into the data stream. Note how declared attributes are used in the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">action</span> element. Categories and attributes are discussed more below.
      </p>
      <h3 style=""><a name="sRulesApplied"></a>5.1.6&nbsp;How Rules are Applied
      </h3>
      <p>Rules are applied when a pattern is matched in the source language input data stream. Which patterns are matched in which
         order goes like this: the longest patterns are attempted first and then successive shorter patterns are attempted. When there
         is more than one pattern of the same length, the pattern that comes first in the file is attempted first followed by the rest
         in order.
      </p>
      <p>Patterns do not overlap. Once a pattern is matched, the matched words are processed and not considered again for any other
         patterns. In other words, the source language words are processed sequentially in chunks.
      </p>
      <h2 style=""><a name="sPracticalEx"></a>5.2&nbsp;Practical Example
      </h2>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xCroatEngTable">(23)</a></td>
               <td>
                  <td style="padding-left: .25em">
                     <table style="" border="1">
                        <tr style="">
                           <th align="left" valign="top" style="padding-left:.2em; ">Input:</th>
                           <td align="left" valign="top" style="padding-left:.2em">Oti&#353;la si</td>
                           <td align="left" valign="top" style="padding-left:.2em">tiho</td>
                           <td align="left" valign="top" style="padding-left:.2em">i</td>
                           <td align="left" valign="top" style="padding-left:.2em">bez</td>
                           <td align="left" valign="top" style="padding-left:.2em">pozdrava</td>
                        </tr>
                        <tr style="">
                           <th align="left" valign="top" style="padding-left:.2em; ">Output:</th>
                           <td align="left" valign="top" style="padding-left:.2em">You left</td>
                           <td align="left" valign="top" style="padding-left:.2em">quietly</td>
                           <td align="left" valign="top" style="padding-left:.2em">and</td>
                           <td align="left" valign="top" style="padding-left:.2em">without</td>
                           <td align="left" valign="top" style="padding-left:.2em">a word</td>
                        </tr>
                     </table>
                  </td>
               </td>
            </tr>
         </table>
      </div>
      <p>Let&#8217;s do an exercise where the goal is to turn a sentence in Croatian into English. The input and desired output is shown
         in <a href="#xCroatEngTable">(23)</a>.
      </p>
      <h3 style=""><a name="sTutSetup"></a>5.2.1&nbsp;Getting Set Up
      </h3>
      <ol style="list-style-type:decimal; ">
         <li>There are two <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> projects already set up that we are going to use. You will find them in the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">FLExTrans Documentation\Transfer Rules Tutorial</span> folder. They are called <span style="font-style:italic; ">Croatian-FLExTrans-Sample.fwbackup</span> and <span style="font-style:italic; ">English-FLExTrans-Sample.fwbackup</span>. Double-click on them one by one to restore them into <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span>.
         </li>
         <li>Now close both <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> projects,
         </li>
         <li>We will be writing new transfer rules so let&#8217;s rename the current rule file.
            <ol style="list-style-type:lower-alpha; ">
               <li>Go to the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">FlexTools\Output</span> folder and rename the file <span style="font-style:italic; ">transfer_rules.t1x</span> to <span style="font-style:italic; ">transfer_rules_saved.t1x</span>.
               </li>
               <li>Go to the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">FLExTrans Documentation\Transfer Rules Tutorial</span> folder again and copy the file <span style="font-style:italic; ">transfer_rules.t1x</span> to the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">FlexTools\Output</span> folder.
               </li>
               <li>Delete the files <span style="font-style:italic; ">transfer_rules.t1x.bin</span> and <span style="font-style:italic; ">tr.t1x</span> if they exist.
               </li>
               <li>Open <span style="font-style:italic; ">transfer_rules.t1x</span> in the <span style="font-family:Courier New; font-weight:bold; color:navy; ">XMLmind XML Editor</span>.
               </li>
            </ol>
         </li>
         <li>We will be changing the configuration file so let&#8217;s rename the current one.
            <ol style="list-style-type:lower-alpha; ">
               <li>Go to the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">FlexTools</span> folder and rename the file <span style="font-style:italic; ">FlexTrans.config</span> to <span style="font-style:italic; ">FlexTrans_saved.config</span>.
               </li>
               <li>Go to the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">FLExTrans Documentation\Transfer Rules Tutorial</span> folder again and copy the file <span style="font-style:italic; ">FlexTrans.config</span> to the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">FlexTools</span> folder.
               </li>
            </ol>
         </li>
         <li>Start <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTools</span>. See <a href="#sStartFlextools">A.1</a> for step-by-step instructions.
         </li>
         <li>Make sure the <span style="font-family:Arial; font-size:80%; font-style:normal; font-weight:bold; color:#660066; ">FlexTrans All Steps</span> collection is active.
         </li>
      </ol>
      <h3 style=""><a name="sLexicalTransfer"></a>5.2.2&nbsp;Lexical Transfer
      </h3>
      <p>For the purposes of this example, we are going to use some &#8220;pre-prepared&#8221; data. We have a Croatian text that is already analyzed
         and we have small Croatian and English lexicons with all of the entries and senses that we need.
      </p>
      <p>Let&#8217;s see what our input and output looks like initially if we run the system. Our input of course, according to <a href="#xCroatEngTable">(23)</a> is: <span style="font-style:italic; ">Oti&#353;la si tiho i bez pozdrava.</span></p>
      <ol style="list-style-type:decimal; ">
         <li>Bring up the <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTools</span> app.
         </li>
         <li>Click the <span style="font-style:normal; font-weight:bold; ">Database</span> button, select <span style="font-style:italic; font-weight:bold; ">Croatian-FLExTrans-Sample</span> and close the Choose Database box.
         </li>
         <li>Click the <span style="font-style:normal; font-weight:bold; ">Run All (Modify)</span> button to run all the <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> modules. (Click Yes when prompted to make changes.)
         </li>
         <li>Open the <span style="font-weight:bold; ">English-FLExTrans-Sample</span> <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project.
         </li>
         <li>In the Texts and Words view, refresh the screen and click on the text titled &#8220;Left Behind&#8221;.</li>
      </ol>
      <p>You should see:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xOutputInitial">(24)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Times New Roman; font-style:italic; ">Leavepfvptcp f sg beprssg2 quietly and without wordgen sg</span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Clearly we have some work to do, but at least three words look good. <a href="#xOutputInitial">(24)</a> is what we get using straight lexical transfer. In other words, English word-senses are substituted for Croatian word-senses.
         The sample transfer rule we are using (shown in <a href="#xOverviewRuleFile">(22)</a>) is having no influence during the transfer process.
      </p>
      <p>Let&#8217;s look at the input and output in data stream format.</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xCroatEngDataStreamTable">(25)</a></td>
               <td>
                  <td style="padding-left: .25em">
                     <table style="" border="1">
                        <tr style="">
                           <th align="left" valign="top" style="padding-left:.2em; ">Input:<span style="font-size:65%; vertical-align:super">[<a href="#nInputFile">4</a>]</span></th>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Otic&#769;i<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">ptcp_f_sg</span></span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">biti<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cop</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">prs</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">sg</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">2</span></span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">tiho<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">adv</span></span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">i<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">coordconn</span></span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">bez<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">prep</span></span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">pozdrav<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">n</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">gen_sg</span> </span></td>
                        </tr>
                        <tr style="">
                           <th align="left" valign="top" style="padding-left:.2em; ">Output:<span style="font-size:65%; vertical-align:super">[<a href="#nOutputFile">5</a>]</span></th>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Leave<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">ptcp_f_sg</span> </span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">be<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cop</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">prs</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">sg</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">2</span> </span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">quietly<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">adv</span> </span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">and<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">coordconn</span> </span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">without<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">prep</span> </span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">word<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">n</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">gen_sg</span> </span></td>
                        </tr>
                     </table>
                  </td>
               </td>
            </tr>
         </table>
      </div>
      <h3 style=""><a name="sThinking"></a>5.2.3&nbsp;Thinking it Through
      </h3>
      <p>Let&#8217;s think about what changes we need to make in order to convert the output shown in <a href="#xCroatEngDataStreamTable">(25)</a> into an adequate form for target language synthesis. NB: If we want to change information, it&#8217;s a procedure; if we want to
         output information or not output information, it&#8217;s a declaration.
      </p>
      <h4 style=""><a name="sProc"></a>5.2.3.1&nbsp;Procedures
      </h4>
      <ol style="list-style-type:decimal; ">
         <li>If the source language grammatical category tag is<span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">ptcp_f_sg</span></span>, change the target language tag to <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span></span><span style="font-size:65%; vertical-align:super">[<a href="#nPastSuf">6</a>]</span></li>
      </ol>
      <h4 style=""><a name="sDecl"></a>5.2.3.2&nbsp;Declarations
      </h4>
      <ol style="list-style-type:decimal; ">
         <li>Output a subject pronoun which takes its person and number information from the auxiliary verb.</li>
         <li>Output the main verb with information on category and tense (but not aspect).</li>
         <li>Do not output the auxiliary verb <span style="font-style:italic; ">biti</span>, &#8220;be&#8221;.
         </li>
         <li>Output nouns with their grammatical category (but not number or case).</li>
      </ol>
      <h4 style=""><a name="sWorkOrder"></a>5.2.3.3&nbsp;Work Order
      </h4>
      <p>So, what order do we do these in? Well it doesn&#8217;t really matter. An experienced <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> linguist would probably do it in two steps, but for pedagogical purposes, we&#8217;re going to split it up into five steps:
      </p>
      <ul>
         <li>First, we&#8217;re going to write a rule which matches the participle and auxiliary construction and outputs only the main verb
            (declarations: 2 &amp; 3). 
            <ul>
               <li>Define the categories of &#8220;ptcp_f_sg&#8221; and &#8220;biti&#8221;.</li>
            </ul>
         </li>
         <li>Second, we&#8217;re going to edit that rule to change the source language tag from<span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">ptcp_f_sg</span></span> to<span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span></span> (procedure: 1).
            <ul>
               <li>Define the attribute of &#8220;tense&#8221;.</li>
            </ul>
         </li>
         <li>Third, we&#8217;re going to edit the same rule to not output aspect (declaration: 2).
            <ul>
               <li>Define the attribute for grammatical category and add the tag for &#8220;verb&#8221;.</li>
            </ul>
         </li>
         <li>Fourth, we&#8217;re going to edit the same rule to output a subject pronoun before the verb (declaration: 1).
            <ul>
               <li>Define the attributes of &#8220;person&#8221; and &#8220;number&#8221;.</li>
            </ul>
         </li>
         <li>Fifth, we&#8217;re going to write a new rule which matches the noun construction and output only the grammatical category (declaration:
            4) 
            <ul>
               <li>Define the category of &#8220;noun&#8221;.</li>
               <li>Add the tag for nouns to the grammatical category attribute.</li>
            </ul>
         </li>
      </ul>
      <h4 style=""><a name="sCheatsheet"></a>5.2.3.4&nbsp;Cheat Sheet
      </h4>
      <p>Here is what the input and output data stream of each of the above steps will look like:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xCheatsheet">(26)</a></td>
               <td>
                  <td style="padding-left: .25em">
                     <table style="" border="1">
                        <tr style="">
                           <th align="left" valign="top" style="padding-left:.2em; ">Step</th>
                           <th align="left" valign="top" style="padding-left:.2em; ">Input</th>
                           <th align="left" valign="top" style="padding-left:.2em; ">Output</th>
                        </tr>
                        <tr style="">
                           <td align="left" valign="top" style="padding-left:.2em">1</td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Otic&#769;i<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">ptcp_f_sg</span> biti<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cop</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">prs sg&nbsp;2</span></span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Leave<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">ptcp_f_sg</span></span></td>
                        </tr>
                        <tr style="">
                           <td align="left" valign="top" style="padding-left:.2em">2</td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Otic&#769;i<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">ptcp_f_sg</span> biti<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cop</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">prs sg&nbsp;2</span></span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Leave<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span> </span></td>
                        </tr>
                        <tr style="">
                           <td align="left" valign="top" style="padding-left:.2em">3</td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Otic&#769;i<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">ptcp_f_sg</span> biti<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cop</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">prs sg&nbsp;2</span></span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Leave<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span> </span></td>
                        </tr>
                        <tr style="">
                           <td align="left" valign="top" style="padding-left:.2em">4</td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Otic&#769;i<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">ptcp_f_sg</span> biti<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cop</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">prs sg&nbsp;2</span></span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Propers<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">pro</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">nom</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">2</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">sg</span> leave<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span> </span></td>
                        </tr>
                        <tr style="">
                           <td align="left" valign="top" style="padding-left:.2em">5</td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">pozdrav<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">n</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">gen_sg</span></span></td>
                           <td align="left" valign="top" style="padding-left:.2em"><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">word<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">n</span></span></td>
                        </tr>
                     </table>
                  </td>
               </td>
            </tr>
         </table>
      </div>
      <h3 style=""><a name="sImplementation"></a>5.2.4&nbsp;Implementation
      </h3>
      <p>Let&#8217;s see what data stream output we get for the first two words right now. To do this we will use the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span> which is a great tool for applying a single rule to one or more words and checking the result. See section&nbsp;<a href="#sRuleTester">3</a>.
      </p>
      <ol style="list-style-type:decimal; ">
         <li>Close the <span style="font-weight:bold; ">English-FLExTrans-Sample</span> <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project.
         </li>
         <li>Bring up the <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTools</span> app.
         </li>
         <li>Click the <span style="font-style:normal; font-weight:bold; ">Collections</span> button.
         </li>
         <li>Double-click on the <span style="font-family:Arial; font-size:80%; font-style:normal; font-weight:bold; color:#660066; ">FlexTrans Live Rule Tester</span> collection.
         </li>
         <li>Click on the <span style="font-style:normal; font-weight:bold; ">Run</span> button.
         </li>
         <li>Check the first two Croatian words.</li>
         <li>Check the rule &#8220;comment goes here&#8221;.</li>
         <li>Click on the <span style="font-style:normal; font-weight:bold; ">Test</span> button.
         </li>
      </ol>
      <p>Your <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span> should look like this:
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xTesterStep0">(27)</a></td>
               <td>
                  <table>
                     <tr>
                        <td><img style="Height:60%" src="Images/RulesTutTesterStep0.PNG"></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>In the blue box we have the input data stream for the first two (checked) Croatian words:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xStep0Source">(28)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Otic&#769;i<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv ptcp_f_sg</span> biti<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cop</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">prs sg 2</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>This matches what we have in the cheat sheet in <a href="#xCheatsheet">(26)</a>.
      </p>
      <p>In the green box we have the output data stream after the Past Construction rule is applied.</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xStep0Target">(29)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Leave<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv ptcp_f_sg</span> be<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cop</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">prs sg 2</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Since we haven&#8217;t done anything, it doesn&#8217;t yet match our output goal for step one in the cheat sheet.</p>
      <h4 style=""><a name="step1"></a>5.2.4.1&nbsp;Step 1
      </h4>
      <ol style="list-style-type:decimal; ">
         <li>
            <p>Define the categories we need in <span style="font-style:italic; ">transfer_rules.t1x</span>. Replace the dummy <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Categories</span> element with:
            </p>
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xCat1">(30)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutCat1.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
            <p>You may be wondering how you get a new <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">category</span> element inserted. It is straightforward:
            </p>
            <ol style="list-style-type:lower-alpha; ">
               <li>Click on the word &#8220;category&#8221;. The whole element becomes outlined in a red rectangle.</li>
               <li>Now either right-click and choose Insert After... or click on the <img src="Images/ButInsertAfter.PNG"> button (upper right side) or press Ctrl-J.
               </li>
               <li>At this point a list of elements to insert shows up in the upper right pane as shown in <a href="#xInsertListCat">(31)</a>.
                  <div style="margin-left: 0.25in; margin-right: 0.25in">
                     <table>
                        <tr>
                           <td valign="top"><a name="xInsertListCat">(31)</a></td>
                           <td>
                              <table>
                                 <tr>
                                    <td><img style="Height:60%" src="Images/InsertListCat.PNG"></td>
                                 </tr>
                              </table>
                           </td>
                        </tr>
                     </table>
                  </div>
               </li>
               <li>Choose in this case <span style="font-style:italic; ">def-cat(category)</span> since we only need one <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">tags</span> element. (By the way, this insert procedure will present only valid elements that can be inserted at this point in the rules
                  file.)
               </li>
            </ol>
            <p>Why do we need <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-weight:bold; ">.*</span></span> in the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">tags</span> elements? This is because of how the matching system for categories works. In the middle of tag sequences, a <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-weight:bold; ">*</span></span> is counted as a single tag. At the end, it is counted as any sequence of tags. So, what we have is <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span></span> followed by any tag, followed by <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">ptcp_f_sg</span></span> followed by any sequence of tags.
            </p>
            <p>Note: we are using the convention of starting all categories with &#8220;<span style="font-weight:bold; ">c_</span>&#8221;.
            </p>
         </li>
         <li>Edit the example rule and replace the pattern as shown. Also change the rule comment to &#8220;Past Construction&#8221;.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xPattern1">(32)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutPattern1.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
            <p><span style="font-style:italic; ">Trick: Click in the pink area of the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">item</span> element and press <span style="font-style:normal; font-weight:bold; ">F11</span>. You will get a list of possible categories that can be used in this element. The list looks like</span> <a href="#xCatList">(33)</a>.
            </p>
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xCatList">(33)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutCatList.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
            <p>By using this pattern we will detect a participle followed by the auxiliary. Once detected, the rule will run. </p>
            <p>Notice that the example rule as written outputs only the first among two lexical units as seen in <a href="#xOutput1">(34)</a> (&#8220;pos: 1&#8221; means the word in position 1). We are not outputting the word in position 2. The result is that our <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">biti<span style="font-size:65%; vertical-align:sub;">1.1</span></span> word will disappear.
            </p>
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xOutput1">(34)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutOutput0.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Test it in the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span>.
            <ol style="list-style-type:lower-alpha; ">
               <li>Save the rule file.</li>
               <li>Bring up the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span>.
               </li>
               <li>Click the <span style="font-style:normal; font-weight:bold; ">Refresh</span> button to reload the modified rule file.
               </li>
               <li>Check the rule &#8220;Past Construction&#8221;.</li>
               <li>Click on the <span style="font-style:normal; font-weight:bold; ">Test</span> button. (This time you will notice some text in the yellow information box. This shows which rules matched which input words.)
               </li>
            </ol>
         </li>
      </ol>
      <p>The result is:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xStep1Target">(35)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Leave<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv ptcp_f_sg</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Great!</p>
      <h4 style=""><a name="step2"></a>5.2.4.2&nbsp;Step 2
      </h4>
      <ol style="list-style-type:decimal; ">
         <li>Replace the dummy <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">attribute</span> element with an attribute that gives possible values of the tense feature. <br><br>So, now that we&#8217;ve gotten rid of the verb &#8220;be&#8221;, we want to change the tag for tense from <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">ptcp_f_sg</span></span> to <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span></span>. This will involve using a procedure statement, explicitly telling the transfer what we want to change. But before that,
            we need to define which possible values our feature can take. We do this with the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">attribute</span> element. Let&#8217;s call it &#8220;<span style="font-weight:bold; ">a_tense</span>&#8221;. Note we are using the convention of starting all attributes with &#8220;<span style="font-weight:bold; ">a_</span>&#8221;.<br><br>Add the following under the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Attributes</span> element:
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xAttrTense">(36)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutAttrTense.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Write a statement which changes the tense on the target language. This statement should go immediately after the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">action</span> element and before the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">output</span> element. Make sure you select the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">target lang.</span> property.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xLet1">(37)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutLet1.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div><span style="font-style:italic; ">Trick: Click in the brown area of the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">part</span> property and press <span style="font-style:normal; font-weight:bold; ">F11</span>. You will get a list of possible attributes that can be used in this element. The list looks like</span> <a href="#xAttrList">(38)</a>.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xAttrList">(38)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutAttrList.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>(Note: the statement in <a href="#xLet1">(37)</a> will always change the target language tag to <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span></span>, even if the input is not <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">ptcp_f_sg</span></span>. This is good enough for our current example, but for a description of how conditional logic works, see Section&nbsp;<a href="#sCondLogic">6.1.3</a>.<br><br></li>
         <li>Now test it in the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span>. (Don&#8217;t forget to refresh the rules first!)
         </li>
      </ol>
      <p>The result is:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xStep2Target">(39)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Leave<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv pst</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Excellent!</p>
      <h4 style=""><a name="step3"></a>5.2.4.3&nbsp;Step 3
      </h4>
      <p>So far we have been outputting the whole target language lexical unit, as seen in <a href="#xLexUnitWhole">(41)</a> below.
      </p>
      <p>An important thing to know about lexical transfer is that any source language tags not matched in the bilingual dictionary
         are copied into the output on the target language side. In our case, <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv pst</span></span> are the tags that get copied from source to target because, in the bilingual dictionary (<span style="font-style:italic; ">bilingual.dix</span>), <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">oti&#263;i<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span></span> maps to <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">leave<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span></span>. All we need is the <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span></span> tag; we don&#8217;t need the <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv</span></span> tag, so we need to declare that it should not be outputted.
      </p>
      <ol style="list-style-type:decimal; ">
         <li>Define the features that we want to output.<br><br>We have already defined the feature &#8220;tense&#8221;: the only remaining tag we need to output is the grammatical category, i.e. <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span></span> meaning verb. So, make a new attribute element for grammatical category.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xAttrGramCat">(40)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutAttrGramCat.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Declare which features we want to output. <br><br>So, now that we&#8217;ve got our two features defined, let&#8217;s change our output statement: <br><br>Where we previously had:
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xLexUnitWhole">(41)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutLexUnitWhole.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>Replace it with:
            <div style="margin-left: 0.25in; margin-right: 0.25in; margin-top:.2in">
               <table>
                  <tr>
                     <td valign="top"><a name="xLexUnit3Clips">(42)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutLexUnit3Clips.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>The last two features we know, as we&#8217;ve just added them. The &#8220;lem&#8221; feature is a predefined feature which corresponds to lemma,
            i.e. the part before the tags. In this example it would be <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">leave<span style="font-size:65%; vertical-align:sub;">1.1</span></span>. There are other predefined features, but if you remember this one and &#8220;whole&#8221; which corresponds to the whole lexical unit,
            you have the main ones.<br><br></li>
         <li>Now test it in the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span>. (Don&#8217;t forget to refresh the rules first!)
         </li>
      </ol>
      <p>The result is:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xStep3Target">(43)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Leave<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Woo! What just happened was that we magically deleted the unwanted <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv</span></span> tag by not specifying that we wanted it. Tag deletion is thus not stated as tag deletion (tag &#8594; 0), but by not declaring
         it.
      </p>
      <p>Now we should have a lexical form for &#8220;leave&#8221; which we can synthesize. Let&#8217;s give it a go:</p>
      <ol style="list-style-type:decimal; ">
         <li>Close the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span>.
         </li>
         <li>Go back to the <span style="font-family:Arial; font-size:80%; font-style:normal; font-weight:bold; color:#660066; ">FlexTrans All Steps</span> collection in <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTools</span>.
         </li>
         <li>Click the <span style="font-style:normal; font-weight:bold; ">Run All (Modify)</span> button.
         </li>
         <li>Open the <span style="font-weight:bold; ">English-FLExTrans-Sample</span> <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project.
         </li>
         <li>In the Texts and Words view, refresh the screen and click on the new text.</li>
      </ol>
      <p>You should see:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xOutputStep3">(44)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Times New Roman; font-style:italic; ">Left quietly and without wordgen sg</span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>This looks a lot better than our initial results in <a href="#xOutputInitial">(24)</a>. The word <span style="font-style:italic; ">Left</span> is now there correctly. It&#8217;s beyond the scope of this exercise to explain in detail how the synthesis works in this case,
         but the tag <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span></span> matches the feature <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span></span> on the variant form of the verb <span style="font-style:italic; ">leave</span>.
      </p>
      <p>We&#8217;re getting there, now let&#8217;s move on to the next step.</p>
      <h4 style=""><a name="step4"></a>5.2.4.4&nbsp;Step 4
      </h4>
      <p>To recap, our input is:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xStep4Input">(45)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Otic&#769;i<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv ptcp_f_sg</span> biti<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cop</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">prs sg 2</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>And our current output is:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xStep4CurrentTarget">(46)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Leave<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>What we now need to do is take the information from the (not outputted) verb <span style="font-style:italic; ">biti</span> &#8220;be&#8221; and use it to output a personal pronoun before the verb. Remember that when we do not output something we are not deleting
         it. It is still there in the input, we are just choosing not to put it in the output.
      </p>
      <p>The pronoun that we want to output looks like <a href="#xStep4TargetGoal">(47)</a>. If we get it in this form, it will synthesize into the word <span style="font-style:italic; ">you</span>.
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xStep4TargetGoal">(47)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">propers<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">pro</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">nom 2 sg</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p><span style="text-decoration:underline; ">Important</span>: We need to remember to output the <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">1.1</span> after the word and not just <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">propers</span>. Even though in the target <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project the lexeme form is <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">propers</span>, <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> automatically adds the homograph number (<span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">1</span> because it&#8217;s the first and only homograph) and the sense number (<span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">1</span> because it&#8217;s the first sense). If we mistakenly use <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">propers</span> instead of <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">propers1.1</span>, the word won&#8217;t synthesize because <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> won&#8217;t find <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">propers</span> in its internal dictionary. This use of <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">x.x</span> after the word helps <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> identify each unique sense in the dictionary.
      </p>
      <ol style="list-style-type:decimal; ">
         <li>Output a skeleton pronoun.<br><br>So, we need to take the person and number information from the verb &#8220;be&#8221;, and the rest we need to just declare to be outputted.
            Let&#8217;s start with outputting the string <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">propers<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">pro</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">nom</span></span>; we won&#8217;t worry about the <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">2 sg</span></span> tags yet.<br><br></li>
         <li>Insert this before our current <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">lexical unit</span> element.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xLexUnitPron">(48)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutLexUnitPron.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>The <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">lexical unit</span> statement means we are outputting a word<span style="font-size:65%; vertical-align:super">[<a href="#nLexUnit">7</a>]</span>. The <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">literal string</span> element outputs the given string of characters, and the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">literal tag</span> element outputs a tag sequence<span style="font-size:65%; vertical-align:super">[<a href="#nTagSeq">8</a>]</span>. Multiple tags are separated by a period, so in this case two tags we are outputting two tags: <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#0070c0; ">pro</span></span> and <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "><span style="font-family:Courier New; font-size:90%; color:#00B050; ">nom</span></span>. The <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">blank space</span> element outputs a single space character.<br><br></li>
         <li>Define features for person and number. <br><br>The next step is to declare the features from the verb &#8220;be&#8221; to output. To do this we need to again define some features and
            their possible values. Add this:
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xAttrNumPers">(49)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutAttrNumPer.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>We then go back to our skeleton pronoun and add the missing features.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xLexUnitPronPerNum">(50)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutLexUnitPronPerNum.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>Note that we are &#8220;clipping&#8221; (copying a part of a string which matches a pattern) from position 2, i.e. the verb &#8220;be&#8221;. To be
            clearer, the first clip statement in <a href="#xLexUnitPronPerNum">(50)</a> makes a copy of the part of the lexical unit in position 2, on the source language side, which matches one of the patterns
            defined in the attribute element &#8220;a_pers&#8221; (which can be either <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "> 1</span>, <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "> 2</span> or <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "> 3</span>). If we look at the lexical transfer output, that is internally coming from the bilingual dictionary for position 2, this
            will become clearer:<br><br><div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xStep4Diagram">(51)</a></td>
                     <td>
                        <table cellpadding="0pt" cellspacing="0pt">
                           <tr>
                              <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">biti<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cop</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">prs sg 2</span> -&gt; be<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">cop</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">prs sg 2</span><br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;person|&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>|_________________|&nbsp;&nbsp;&nbsp;|______________|<br>&nbsp;&nbsp;source&nbsp;language&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target language</span><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "></span></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>If we tried to clip from position 1 (<span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">Otic&#769;i<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pfv ptcp_f_sg</span></span>), we would get no result for the person attribute because the verb in position 1 does not contain any tags which match the
            tags in the definition for person.<br><br></li>
         <li>Now test it in the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span>.
         </li>
      </ol>
      <p>The result is:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xStep4Target">(52)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">propers<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">pro</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">nom 2 sg</span> Leave<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Run the modules in the <span style="font-family:Arial; font-size:80%; font-style:normal; font-weight:bold; color:#660066; ">FlexTrans All Steps</span> collection to see what our English sentence looks like now.
      </p>
      <p><span style="font-style:italic; ">Trick: After the modules have been run, you can see the result without having to open the <span style="font-weight:bold; ">English-FLExTrans-Sample</span> <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project. In the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">Output</span> folder, open the synthesis file named <span style="font-style:normal; font-weight:normal; ">myText.syn</span>.</span></p>
      <p>Now we get:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xOutputStep4">(53)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Times New Roman; font-style:italic; ">you Left quietly and without wordgen sg</span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>We get the second person singular pronoun that we wanted, but this is not totally satisfying because <span style="font-style:italic; ">you</span> should be capitalized and <span style="font-style:italic; ">Left</span> should not be. Let&#8217;s fix that.
      </p>
      <ol style="list-style-type:decimal; ">
         <li>We want to be careful, because we don&#8217;t want <span style="font-style:italic; ">you</span> capitalized in all circumstances. For example, if the Croatian past tense clause is embedded in another phrase, the first
            word may not be capitalized. What we can do is check what the capitalization of the verb is and apply that same capitalization
            to the pronoun. Make your <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">lexical unit</span> element look like this:
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xGetCase1">(54)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutGetCase1.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>Notice how the literal string element is indented under the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">get case from</span> element. This means that it is a child element of the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">get case from</span> element. To accomplish this, <span style="font-family:Courier New; font-weight:bold; color:navy; ">XMLmind XML Editor</span> has a way to wrap an element around another element. This is what you do.
            <ol style="list-style-type:lower-alpha; ">
               <li>Click on the words &#8220;literal string&#8221;. The whole element becomes outlined in a red rectangle.</li>
               <li>Either right-click and choose Convert [wrap]... or click on the <img src="Images/ButWrap.PNG"> button (upper right side) or press Ctrl-Shift-T.
               </li>
               <li>At this point a list of elements to insert shows up in the upper right pane. Choose <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">get-case-from</span>.
               </li>
               <li>Now set the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">pos</span> property to 1 and we will be getting the capitalization from the first word.<br><br></li>
            </ol>
         </li>
         <li>Now we need to make the second lexical unit come out with the first letter in lower case. We could use the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">modify-case</span> element, but we would have to add a new statement above the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">output</span> element. Instead we can just use the same method as above to get the case from the second word. This time wrap the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">get case from</span> element around the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">clip</span> element that copies the lemma. This is shown below: 
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xGetCase2">(55)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutGetCase2.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div><span style="font-style:italic; ">Trick: Click on the word "clip" and type Ctrl-a. This will execute the last command you did in the <span style="font-family:Courier New; font-weight:bold; color:navy; ">XMLmind XML Editor</span> again (namley wrap an element with the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">get case from</span> element.)</span></li>
      </ol>
      <p>Run the modules in the <span style="font-family:Arial; font-size:80%; font-style:normal; font-weight:bold; color:#660066; ">FlexTrans All Steps</span> collection again.
      </p>
      <p>Now we get:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xOutputStep4b">(56)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Times New Roman; font-style:italic; ">You left quietly and without wordgen sg</span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Looking good!</p>
      <h4 style=""><a name="step5"></a>5.2.4.5&nbsp;Step 5
      </h4>
      <p>The last remaining thing to do is to not output the genitive or singular tags on the noun. We&#8217;re going to have to make a whole
         new rule to match nouns.
      </p>
      <ol style="list-style-type:decimal; ">
         <li>Define a category for nouns.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xCatN">(57)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutCatN.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Make a new rule which matches nouns as defined by the previous category. To start with, we&#8217;ll just output the whole lexical
            unit. 
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xRuleN">(58)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutRuleN.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Add nouns to the grammatical <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">category attribute</span> element. Now it looks like this:
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xAttrWithN">(59)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutAttrGramCatWNoun.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Adjust the rule to output only the lemma and grammatical category.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xLexUnitNoun">(60)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:60%" src="Images/RulesTutLexUnitNoun1.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
      </ol>
      <p>Now test it in the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Live Rule Tester Tool</span>, but this time check the Croatian word <span style="font-style:italic; ">pozdrava</span> and check the new Nouns rule.
      </p>
      <p>Starting with:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xStep5Source">(61)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">pozdrav<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">n</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">gen_sg</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>The result is:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xStep5Target">(62)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">word<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">n</span></span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Run the modules in the <span style="font-family:Arial; font-size:80%; font-style:normal; font-weight:bold; color:#660066; ">FlexTrans All Steps</span> to see what our English sentence looks like.
      </p>
      <p>Now we get:</p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xOutputStep5">(63)</a></td>
               <td>
                  <table cellpadding="0pt" cellspacing="0pt">
                     <tr>
                        <td><span style="font-family:Times New Roman; font-style:italic; ">You left quietly and without word</span></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Success!</p>
      <h4 style=""><a name="step6"></a>5.2.4.6&nbsp;Step 6
      </h4>
      <p>Step 6 is left as an exercise for the reader. Change the noun rule to output an indefinite article before the noun. You can
         do this by following the instructions for adding the pronoun, see &#8220;<a href="#step4">Step 4</a>&#8221;. The string you need to output is <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">a<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">indf</span></span>.
      </p>
      <p>You can find the solution transfer file called <span style="font-style:italic; ">solution.t1x</span> in the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">FLExTrans Documentation\Transfer Rules Tutorial</span> folder.
      </p>
      <p>You may think this was a lot of work to translate one sentence from Croatian to English, but consider the fact that now every
         Croatian past tense construction that occurs in a text will correctly be translated to English and every indefinite noun will
         also be handled.
      </p>
      <h1 style=""><a name="sHowTo"></a>6&nbsp;FLExTrans How To&#8217;s
      </h1>
      <p></p>
      <h2 style=""><a name="sTransferRuleHowTos"></a>6.1&nbsp;Transfer Rules
      </h2>
      <p></p>
      <h3 style=""><a name="sDeleteWord"></a>6.1.1&nbsp;How do I delete a word from the target output? (How do I prevent a source word from being transferred to the target text?)
      </h3>
      <p>The short answer is don't output it. In other words, don't declare that it should be outputted into the target data stream.</p>
      <p>When you match two or more words in the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">pattern</span> section of a transfer rule, you can choose to only list some of the words in the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">output</span> section. This is exactly what we did in &#8220;<a href="#step1">Step 1</a>&#8221; of the tutorial. In <a href="#xOutput1">(34)</a> we only declared that the word in <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">position</span> 1 should be outputted.
      </p>
      <h3 style=""><a name="sDeleteAffix"></a>6.1.2&nbsp;How do I delete an affix?
      </h3>
      <p>There are two methods for deleting an affix. You can either set the value for that affix (attribute) to blank or you can not
         declare that the affix (attribute) gets outputted.
      </p>
      <ol style="list-style-type:decimal; ">
         <li>Method 1. Use the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">let</span> element to set an attribute's value to blank. See <a href="#xLetBlank">(64)</a>.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xLetBlank">(64)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:75%" src="Images/LetBlank.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>Here we are overriding whatever is in the enclitic attribute (a_encl) with a blank string. Whenever the enclitic affix gets
            outputted, it will be outputted as nothing. As an example, in <a href="#xOutputWhole">(65)</a> the whole word is outputted with all its attributes.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xOutputWhole">(65)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:75%" src="Images/OutputWholeWord.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>
         </li>
         <li>Method 2. In the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Output</span> element, explicitly declare each attribute of the word that you want to output. Don't include the attribute that needs to
            be deleted.
            <div style="margin-left: 0.25in; margin-right: 0.25in">
               <table>
                  <tr>
                     <td valign="top"><a name="xOutMultAffixes">(66)</a></td>
                     <td>
                        <table>
                           <tr>
                              <td><img style="Height:75%" src="Images/OutputMultAffixes.PNG"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </div>In <a href="#xOutMultAffixes">(66)</a> you can see that the lemma is outputted and then the grammatical category and then two attribute. The disadvantage of this
            method is that you have to explicitly declare every possible attribute that could occur. Where as in <a href="#xOutputWhole">(65)</a> in Method 1, you just have to output the whole word.
         </li>
      </ol>
      <h3 style=""><a name="sCondLogic"></a>6.1.3&nbsp;Conditional Logic
      </h3>
      <p>In the transfer rules you have the ability to use conditional logic. Please watch this <a href="https://drive.google.com/open?id=1gu5xDKdDzPu4yvFui2xakhnwAjNmF2Rm">video</a> for an explanation.
      </p>
      <h3 style=""><a name="sAgreement"></a>6.1.4&nbsp;How do I handle noun agreement? (How do I get a target word or words to agree with a noun?)
      </h3>
      <p>One main strategy for getting words to agree with a noun, is to make sure features are assigned to the noun and then in the
         transfer rules make the needed adjustment to the words you output depending on what the feature values (or class values) are.
      </p>
      <p>To see how to do this in a sample language pair, please watch <a href="https://drive.google.com/open?id=18D-P4pdXwotGGdRNBO5fYcIhZWzHT0OA">video 1</a> and <a href="https://drive.google.com/open?id=13jWg2lGI9yX74DhLRf0XO24KG9QWalC_">video 2</a>.
      </p>
      <p>If you would like to try creating the rules along with the video, please follow the instructions in the file: <span style="font-style:italic; ">Readme.txt</span> in the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">Doc\Agreement</span> folder. See the file <span style="font-style:italic; ">transfer_rules - solution.t1x</span> which shows the form of the rules shown in the video.
      </p>
      <h2 style=""><a name="sOther"></a>6.2&nbsp;Other
      </h2>
      <p></p>
      <h3 style=""><a name="sRepl"></a>6.2.1&nbsp;I have a source word that maps to two different target words depending on the inflection of the source word. How do I handle
         that?
      </h3>
      <p>You can handle this by using the <span style="font-style:italic; ">replace.dix</span> file to add additional mappings to the bilingual lexicon.
      </p>
      <p>The bilingual lexicon is a mapping of source word-senses to target word-senses. There are no inflectional affixes present
         in the bilingual lexicon, although there could be inflectional features or classes present. An example portion of a bilingual
         lexicon is shown in <a href="#xBilingEntries">(67)</a>. You can view the bilingual lexicon by double-clicking on the file <span style="font-style:italic; ">bilingual.dix</span> in the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">FlexTools\Output</span> folder. Both the <span style="font-style:italic; ">replace.dix</span> and <span style="font-style:italic; ">bilingual.dix</span> files are XML files and will load automatically in <span style="font-family:Courier New; font-weight:bold; color:navy; ">XMLmind XML Editor</span>.
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xBilingEntries">(67)</a></td>
               <td>
                  <table>
                     <tr>
                        <td><img src="Images/BilingalEntries2.PNG"></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>In order to have a word map differently than what is in the bilingual lexicon, you need to add a line to the replacement file.
         If you double-click on <span style="font-style:italic; ">replace.dix</span> you will see something like <a href="#xReplacement">(68)</a>.
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xReplacement">(68)</a></td>
               <td>
                  <table>
                     <tr>
                        <td><img src="Images/Replacement_In_XXE2.PNG"></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>The replacement file has two main sections, one for replacing default bilingual entries with ones of your choice and one section
         for appending new entries to the bilingual lexicon. We are interested in doing the latter. Note, we can&#8217;t edit the bilingual
         dictionary file directly because that gets generated automatically by <span style="font-family:Courier New; font-weight:bold; color:navy; "> FLExTrans</span>.
      </p>
      <p>Let's say that we want to map the past tense of the entry for <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">lieben</span> shown in <a href="#xBilingEntries">(67)</a> to a different Swedish word, we change the replacement file to something like <a href="#xRepChanged">(69)</a>.
      </p>
      <div style="margin-left: 0.25in; margin-right: 0.25in">
         <table>
            <tr>
               <td valign="top"><a name="xRepChanged">(69)</a></td>
               <td>
                  <table>
                     <tr>
                        <td><img src="Images/ReplacementFileChanged2.PNG"></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <p>Let&#8217;s look closer at the last line. The <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">left</span> element has <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">lieben1.1</span> and the &#8220;symbol&#8221; <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">v</span> just like the bilingual file, but it also has a new symbol <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">PST</span>. This is the gloss for the past suffix in German. By adding this suffix, we are telling <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> that we are mapping the past inflection of <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">lieben1.1</span> to something else. The new Swedish word is listed for the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">right</span> element. Note that we also had to add two new symbol definitions so that <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> knows what they are. Any symbols you use in a section of the replacement file, have to be defined under the <span style="font-family:Arial; font-size:80%; color:#006633; font-weight:bold; ">Symbols</span> element.
      </p>
      <p>You also have to make a change to the configuration file (<span style="font-style:italic; ">FlexTrans.config</span> in the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">FlexTools</span> folder) to signal <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> to use the replacement file. Change the applicable line to look like this: <span style="font-family:Courier New; font-size:100%; ">BilingualDictReplacementFile=Output\replace.dix</span></p>
      <h3 style=""><a name="sInflVariantTgt"></a>6.2.2&nbsp;How do I handle irregularly inflected variants in the target language?
      </h3>
      <p>To learn how FT can handle these kind of variants, please watch this <a href="https://drive.google.com/open?id=13LVKJM7kx6MKwuUDBSfs58j8Hd4i5yd0">video</a>.
      </p>
      <p>The key thing in the techniques explained in the videos is to get inflectional features assigned to Irregularly Inflected
         Form variants that match exactly the suffixes that would normally be used.
      </p>
      <p>If you would like to try doing the same thing while watching the video, please follow the instructions in the file: <span style="font-style:italic; ">Readme.txt</span> in the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">Doc\Irregular Form</span> folder.
      </p>
      <h3 style=""><a name="sInflVariantSrc"></a>6.2.3&nbsp;How do I handle inflectional variants in the source language?
      </h3>
      <p>To learn how FT can handle these kind of variants, please watch this <a href="https://drive.google.com/open?id=1_lqFLEmeBFTeJdoI101B5vId9zFer5Wt">video</a>.
      </p>
      <p>The key thing in the techniques explained in the videos is to get inflectional features assigned to Irregularly Inflected
         Form variants that match exactly the suffixes that would normally be used.
      </p>
      <p>If you would like to try doing the same thing while watching the video, please follow the instructions in the file: <span style="font-style:italic; ">Readme.txt</span> in the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">Doc\Irregular Form</span> folder. Note: be sure to set the SourceTextName property in the configuration file to &#8220;Text2&#8221;.
      </p>
      <hr size="3">
      <h1 style=""><a name="aAppend"></a>A.&nbsp;Appendix
      </h1>
      <p></p>
      <h1 style=""><a name="sStartFlextools"></a>A.1&nbsp;Starting <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTools</span></h1>
      <p>Here are the steps:</p>
      <ol style="list-style-type:decimal; ">
         <li>Navigate to the folder where you unzipped the install files.</li>
         <li>Double-click on the file <span style="font-weight:bold; ">FlexTools.vbs</span> (a Visual Basic script file).
         </li>
         <li>The first time you run it, it may give you a message saying, &#8220;FLExTools has updated its configuration to match the new version
            of Fieldworks. Restarting.&#8221;
         </li>
         <li>The <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTools</span> window should appear which will look something like <a href="#xFirstStart">(2)</a>.
         </li>
      </ol>
      <h1 style=""><a name="sDataStreamFormat"></a>A.2&nbsp;Data Stream Format
      </h1>
      <p>The <a name="gDataStream"></a><span style="font-family:Courier New; font-weight:bold; color:navy; ">Apertium</span> data stream format consists of one or more lexical units. In <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span>, a lexical unit looks something like this:
      </p>
      <p><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">take<span style="font-size:65%; vertical-align:sub;">1.1</span> <span style="font-family:Courier New; font-size:90%; color:#0070c0; ">v</span> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">3sg</span><span style="font-size:65%; vertical-align:super">[<a href="#nToolToView">9</a>]</span><span style="font-size:65%; vertical-align:super">,&nbsp;[<a href="#nRawDataStream">10</a>]</span></span></p>
      <p>Where take<span style="font-size:65%; vertical-align:sub;">1</span><span style="font-size:65%; vertical-align:super">[<a href="#nNoOneHomograph">11</a>]</span> is the headword from <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span>. The 1.1 subscript means homograph one, sense one. The grammatical category is colored in blue and all other tags are colored
         in green.
      </p>
      <hr size="3"><a name="rXLingPapEndnotes"></a><p style=""><big><big><big><b>Endnotes</b></big></big></big></p>
      <table>
         <tr>
            <td valign="top"><a name="nCustomFieldNames">[1]</a></td>
            <td>
               <p>You may choose different names for the custom fields, but you also have to update the configuration file to match these names.
                  The names <span style="font-weight:bold; ">Target Equivalent</span> and <span style="font-weight:bold; ">Target Sense Number</span> are already set in the configuration file that gets installed with <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span>.
               </p>
            </td>
         </tr>
         <tr>
            <td valign="top"><a name="nReproducing">[2]</a></td>
            <td>
               <p>For this tutorial I am basically reproducing the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Apertium</span> article <a href="wiki.apertium.org/wiki/A_long_introduction_to_transfer_rules">A long introduction to transfer rules</a>. I am mainly modifying it to show the <span style="font-family:Courier New; font-weight:bold; color:navy; ">XMLmind XML Editor</span> method of editing the transfer rules, but also the <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLExTrans</span> process is assumed instead of the <span style="font-family:Courier New; font-weight:bold; color:navy; ">Apertium</span> process.
               </p>
            </td>
         </tr>
         <tr>
            <td valign="top"><a name="nT1X">[3]</a></td>
            <td>
               <p>The 1 in .t1x stands for the first structural transfer pass. This is the only file we worry about when doing a shallow-transfer
                  system. For advanced-transfer, you use three rule files, and the extensions .t2x and .t3x are also used.
               </p>
            </td>
         </tr>
         <tr>
            <td valign="top"><a name="nInputFile">[4]</a></td>
            <td>
               <p>You would see this if you use the <span style="font-family:Courier New; font-weight:bold; color:navy; ">View Source/Target Apertium File Tool</span>. It is the friendly view of the file <span style="font-style:italic; ">source_text.aper</span> in the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">Output</span> folder. The actual content looks like this: <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">^Otic&#769;i1.1&lt;v&gt;&lt;pfv&gt;&lt;ptcp_f_sg&gt;$ ^biti1.1&lt;cop&gt;&lt;prs&gt;&lt;sg&gt;&lt;2&gt;$ ^tiho1.1&lt;adv&gt;$ ^i1.1&lt;coordconn&gt;$ ^bez1.1&lt;prep&gt;$ ^pozdrav1.1&lt;n&gt;&lt;gen_sg&gt;$</span></p>
            </td>
         </tr>
         <tr>
            <td valign="top"><a name="nOutputFile">[5]</a></td>
            <td>
               <p>You would see this if you use the <span style="font-family:Courier New; font-weight:bold; color:navy; ">View Source/Target Apertium File Tool</span> and click the <span style="font-style:normal; font-weight:bold; ">Target</span> button. It is the friendly view of the file <span style="font-style:italic; ">target_text.aper</span> in the <span style="font-family:Tahoma; font-size:80%; font-style:normal; font-weight:normal; ">Output</span> folder. The actual content looks like this: <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">^Leave1.1&lt;v&gt;&lt;pfv&gt;&lt;ptcp_f_sg&gt;$ ^be1.1&lt;cop&gt;&lt;prs&gt;&lt;sg&gt;&lt;2&gt;$ ^quietly1.1&lt;adv&gt;$ ^and1.1&lt;coordconn&gt;$ ^without1.1&lt;prep&gt;$ ^word1.1&lt;n&gt;&lt;gen_sg&gt;$</span></p>
            </td>
         </tr>
         <tr>
            <td valign="top"><a name="nPastSuf">[6]</a></td>
            <td>
               <p><span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; "> <span style="font-family:Courier New; font-size:90%; color:#00B050; ">pst</span></span> corresponds to the past suffix in the English <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> project (and also the past tense feature).
               </p>
            </td>
         </tr>
         <tr>
            <td valign="top"><a name="nLexUnit">[7]</a></td>
            <td>
               <p>In our <span style="font-style:italic; ">target_text.aper</span> file it puts a <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">^</span> and <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">$</span> before and after the contents contained within it.
               </p>
            </td>
         </tr>
         <tr>
            <td valign="top"><a name="nTagSeq">[8]</a></td>
            <td>
               <p>In our <span style="font-style:italic; ">target_text.aper</span> file each tag starts with a <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">&lt;</span>, ends with a <span style="font-family:Courier New; font-size:90%; font-style:normal; font-weight:bold; ">&gt;.</span></p>
            </td>
         </tr>
         <tr>
            <td valign="top"><a name="nToolToView">[9]</a></td>
            <td>
               <p>You can use the <span style="font-family:Courier New; font-weight:bold; color:navy; ">View Source/Target Apertium File Tool</span> for a more friendly view of the data stream format found in the files <span style="font-style:italic; ">source_text.aper</span> and <span style="font-style:italic; ">target_text.aper</span>.
               </p>
            </td>
         </tr>
         <tr>
            <td valign="top"><a name="nRawDataStream">[10]</a></td>
            <td>
               <p>In the plain format the stream format can be explained as follows:</p>
               <table>
                  <tr>
                     <tr>
                        <td></td>
                        <td>
                           <div><img style="width:60%" src="Images/LexicalUnit.PNG"></div>
                        </td>
                     </tr>
                  </tr>
               </table>
            </td>
         </tr>
         <tr>
            <td valign="top"><a name="nNoOneHomograph">[11]</a></td>
            <td>
               <p>Technically <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> only displays a subscript 1 if there is a homograph that exists with subscript 2. Without any homograph the <span style="font-family:Courier New; font-weight:bold; color:navy; ">FLEx</span> headword is just plain -- without any subscript.
               </p>
            </td>
         </tr>
      </table>
      <hr size="3"><a name="rXLingPapReferences"></a><p style=""><big><big><big><b>References</b></big></big></big></p>
      <div style="margin-left:0.25in">
         <p style="text-indent:-0.25in;margin-bottom:0in;margin-top:0in"><a name="rApertium">Forcada, Mikel L., Bonev, Boyan Ivanov, Rojas, Sergio Ortiz, Ortiz, Juan Antonio Perez, Sanchez, Gema Ramirez, Martinez, Felipe
               Sanchez, Armentano-Oller, Carme, Montava, Marco A., Tyers, Francis M.</a>   2010. Documentation of the Open-Source Shallow-Transfer Machine Translation Platform Apertium. Departament de Llenguatges i Sistemes Inform&agrave;tics Universitat d&#8217;Alacant Manuscript. (<a href="http://xixona.dlsi.ua.es/~fran/apertium2-documentation.pdf">http://xixona.dlsi.ua.es/~fran/apertium2-documentation.pdf</a>).
         </p>
      </div>
   </body>
</html>